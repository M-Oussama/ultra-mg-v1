import{k as s,bd as ae,$ as U,Z as le,A as oe,o as m,c as B,p as t,w as o,q as i,m as l,D as r,b as y,E as f,F as se,a as ie,x as g,C as v,y as S,H as ne,I as re}from"./main.7fa0f71e.js";import{_ as de}from"./DialogCloseBtn.65c2afd7.js";import{u as ue}from"./useVacationStore.f6ddca29.js";import{_ as ce}from"./EditEmployeeAttendanceDrawer.f27b9f5d.js";import{_ as pe}from"./AddNewVacation.ec4e4bb7.js";import{a as me}from"./VOverlay.4a38a54b.js";import{a as M,V as p}from"./VBtn.069192ce.js";import{a as fe,V as ve}from"./VRow.9a415d63.js";import{V as R,c as I}from"./VCard.030e8f02.js";import{V as O}from"./VDivider.c84ac45e.js";import{V as _e}from"./VSelect.a4bf81df.js";import{V as xe}from"./VSpacer.3ec81c6b.js";import{V as Ve}from"./VTextField.274a75e5.js";import{V as ge}from"./VTable.049a34c9.js";import{V as he}from"./VMenu.cdb8ae34.js";import{V as be,b as j,a as q}from"./VList.fc38797b.js";import{V as we}from"./VPagination.d7236996.js";import{V as De}from"./VDialog.8b46c977.js";import"./AppDateTimePicker.962f3994.js";import"./VField.48a02540.js";import"./index.6cded1e6.js";import"./VInput.5ff15ec5.js";import"./router.03090725.js";import"./VImg.2d1f7e61.js";import"./position.67e80c4d.js";import"./easing.36b781ab.js";import"./validators.330a354f.js";import"./index.b522f886.js";import"./successMiddleware.5781748a.js";import"./errorsMiddleware.63c0e2b3.js";import"./useAttendanceStore.44fbf43b.js";import"./VForm.4e1ce8b2.js";import"./forwardRefs.c003b6b8.js";import"./VNavigationDrawer.bfe02dd1.js";import"./ssrBoot.7e6afdfd.js";import"./lazy.620d5a9e.js";import"./VAvatar.e9ee2511.js";import"./dialog-transition.2bfa19b0.js";import"./VCheckboxBtn.95fc78a7.js";import"./VSelectionControl.0a0ba36b.js";import"./VChip.43475c6f.js";/* empty css                   */import"./VCounter.ac27f1c3.js";import"./scopeId.dda89175.js";const ye={class:"me-3",style:{width:"80px"}},Ce={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ke={style:{width:"9rem"}},ze=l("thead",null,[l("tr",null,[l("th",{scope:"col"}," ID "),l("th",{scope:"col"}," Start Date "),l("th",{scope:"col"}," End Date "),l("th",{scope:"col"}," Period "),l("th",{scope:"col"}," Position "),l("th",{scope:"col"}," ACTIONS ")])],-1),Ae={class:"d-flex align-center"},Ie={class:"d-flex flex-column"},Ne={class:"text-base"},Ue={class:"d-flex align-center"},Be={class:"d-flex flex-column"},Se={class:"text-base"},Oe={class:"d-flex align-center"},Pe={class:"d-flex flex-column"},$e={class:"text-base"},Ee={class:"d-flex align-center"},Te={class:"d-flex flex-column"},Le={class:"text-base"},Fe={class:"text-center",style:{width:"5rem"}},Me=l("tr",null,[l("td",{colspan:"7",class:"text-center"}," No data available ")],-1),Re=[Me],je={class:"text-sm text-disabled"},Pt={__name:"index",setup(qe){const H=ue(),C=s(""),Q=s("Employees"),P=s(!1),d=s({isActive:!0}),Z=ae(),G=s(!0);s(),s("mahgounoussama23@gmail.com"),s(),s();const h=s(10),u=s(1),_=s(1),$=s(0);let c=s([]),b=s({open:!1}),k=s({open:!1}),w=s({open:!1}),z=s(!1),A=s(!0);const E=()=>{d.value.isActive=!0,H.fetchListRecord(Number(Z.params.id)).then(n=>{c.value=n.data.employees.data,_.value=n.data.totalPage,$.value=n.data.totalVacation,P.value=!1,d.value.isActive=!1,console.log(n)}).catch(n=>{d.value.isActive=!1})};U(E),U(()=>{u.value>_.value&&(u.value=_.value)}),le(C,()=>{E()}),s(!1);let x=s(null);U(()=>{u.value>_.value&&(u.value=_.value)});const J=oe(()=>{const n=c.value.length?(u.value-1)*h.value+1:0,a=c.value.length+(u.value-1)*h.value;return`Showing ${n} to ${a} of ${$.value} entries`}),K=n=>{x.value=n,b.value.open=!0},W=n=>{x.value=n,k.value.open=!0},X=()=>{w.value.open=!0},Y=()=>{},T=()=>{k.value.open=!1},ee=n=>{let a=new Date(n.end_date);n.end_date||(a=new Date);const N=a-new Date(n.start_date),e=Math.floor(N/(1e3*60*60*24)),D=Math.floor(e/365),L=Math.floor(e%365/30),F=e%30;let V="";return D>0&&(V+=("0"+D).slice(-2)+" years, "),L>0&&(V+=("0"+L).slice(-2)+" months, "),F>0&&(V+=("0"+F).slice(-2)+" days"),V=V.replace(/,\s*$/,""),V},te=n=>{};return(n,a)=>{const N=de;return m(),B("section",null,[t(ve,null,{default:o(()=>[t(me,{"model-value":i(d).isActive,class:"align-center justify-center"},{default:o(()=>[t(M,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),t(fe,{cols:"12"},{default:o(()=>[t(R,{title:i(Q)},{default:o(()=>[t(O),t(I,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[l("div",ye,[t(_e,{modelValue:i(h),"onUpdate:modelValue":a[0]||(a[0]=e=>r(h)?h.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(xe),l("div",Ce,[l("div",ke,[i(P)?(m(),y(M,{key:0,indeterminate:"",color:"primary"})):(m(),y(Ve,{key:1,onInput:a[1]||(a[1]=e=>G.value=!0),ref:"searchField",modelValue:i(C),"onUpdate:modelValue":a[2]||(a[2]=e=>r(C)?C.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"]))]),t(p,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:o(()=>[f(" Export ")]),_:1}),t(p,{color:"primary","prepend-icon":"tabler-plus",onClick:a[3]||(a[3]=e=>X())},{default:o(()=>[f(" New Vacation ")]),_:1})])]),_:1}),t(O),t(ge,{class:"text-no-wrap"},{default:o(()=>[ze,l("tbody",null,[(m(!0),B(se,null,ie(i(c),e=>(m(),B("tr",{key:e.id,style:{height:"3.75rem"}},[l("td",null,g(e.id),1),l("td",null,[l("div",Ae,[l("div",Ie,[l("h6",Ne,g(e.start_date),1)])])]),l("td",null,[l("div",Ue,[l("div",Be,[l("h6",Se,g(e.end_date),1)])])]),l("td",null,[l("div",Oe,[l("div",Pe,[l("h6",$e,g(ee(e)),1)])])]),l("td",null,[l("div",Ee,[l("div",Te,[l("h6",Le,g(e.position),1)])])]),l("td",Fe,[e.last?(m(),y(p,{key:0,icon:"",size:"x-small",color:"default",variant:"text",onClick:D=>K(e)},{default:o(()=>[t(v,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"])):S("",!0),t(p,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"apps-employee-vacation-id",params:{id:e.id}}},{default:o(()=>[t(v,{size:"22",icon:"tabler-user-check"})]),_:2},1032,["to"]),t(p,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[t(v,{size:"22",icon:"tabler-trash",onClick:D=>W(e)},null,8,["onClick"])]),_:2},1024),t(p,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[t(v,{size:"22",icon:"tabler-send",onClick:D=>te(e)},null,8,["onClick"])]),_:2},1024),t(p,{icon:"",variant:"text",color:"default",size:"x-small"},{default:o(()=>[t(v,{size:22,icon:"tabler-dots-vertical"}),t(he,{activator:"parent"},{default:o(()=>[t(be,{density:"compact"},{default:o(()=>[e.BC?(m(),y(q,{key:0,value:"BC",href:e.BC},{prepend:o(()=>[t(v,{size:"22",class:"me-3",icon:"tabler-download"})]),default:o(()=>[t(j,null,{default:o(()=>[f("Birth Certificate")]),_:1})]),_:2},1032,["href"])):S("",!0),e.NC?(m(),y(q,{key:1,value:"NC",href:e.NC},{prepend:o(()=>[t(v,{size:"22",class:"me-3",icon:"tabler-download"})]),default:o(()=>[t(j,null,{default:o(()=>[f("National Card")]),_:1})]),_:2},1032,["href"])):S("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),ne(l("tfoot",null,Re,512),[[re,!i(c).length]])]),_:1}),t(O),t(I,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:o(()=>[l("span",je,g(i(J)),1),t(we,{modelValue:i(u),"onUpdate:modelValue":a[4]||(a[4]=e=>r(u)?u.value=e:null),size:"small","total-visible":5,length:i(_)},null,8,["modelValue","length"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),t(ce,{isDrawerOpen:i(b),"onUpdate:isDrawerOpen":a[5]||(a[5]=e=>r(b)?b.value=e:b=e),employee:i(x),"onUpdate:employee":a[6]||(a[6]=e=>r(x)?x.value=e:x=e),"disable-end-date":i(z),"onUpdate:disable-end-date":a[7]||(a[7]=e=>r(z)?z.value=e:z=e),loading:i(d),"onUpdate:loading":a[8]||(a[8]=e=>r(d)?d.value=e:null),"disable-start-date":i(A),"onUpdate:disable-start-date":a[9]||(a[9]=e=>r(A)?A.value=e:A=e)},null,8,["isDrawerOpen","employee","disable-end-date","loading","disable-start-date"]),t(pe,{isDrawerOpen:i(w),"onUpdate:isDrawerOpen":a[10]||(a[10]=e=>r(w)?w.value=e:w=e),employees:i(c),"onUpdate:employees":a[11]||(a[11]=e=>r(c)?c.value=e:c=e),loading:i(d),"onUpdate:loading":a[12]||(a[12]=e=>r(d)?d.value=e:null)},null,8,["isDrawerOpen","employees","loading"]),t(De,{modelValue:i(k).open,"onUpdate:modelValue":a[15]||(a[15]=e=>i(k).open=e),persistent:"",class:"v-dialog-sm"},{default:o(()=>[t(N,{onClick:a[13]||(a[13]=e=>T())}),t(R,{title:"Confirmation"},{default:o(()=>[t(I,null,{default:o(()=>[f(" Are you sure you want to delete this record ? ")]),_:1}),t(I,{class:"d-flex justify-end gap-3 flex-wrap"},{default:o(()=>[t(p,{color:"secondary",variant:"tonal",onClick:a[14]||(a[14]=e=>T())},{default:o(()=>[f(" Disagree ")]),_:1}),t(p,{onClick:Y},{default:o(()=>[f(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{Pt as default};
