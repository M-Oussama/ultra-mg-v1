import{k as i,$ as B,Z as lt,A as at,r as st,o as r,c as m,p as a,w as s,q as o,m as t,D as c,b as v,E as z,F as U,a as P,x as d,C as A,H as ot,I as nt,y as it}from"./main.c3533bd0.js";import{_ as rt}from"./DialogCloseBtn.714a955d.js";import{u as dt,_ as ut,a as ct,b as pt,c as mt}from"./ClientMonthlyReport.4a867bd9.js";import{a as _t}from"./VOverlay.851a1061.js";import{a as j,V as x}from"./VBtn.767ed1b7.js";import{a as q,V as H}from"./VRow.f890f0c0.js";import{V as Q,c as R}from"./VCard.bf35c916.js";import{V as N}from"./VDivider.28755b18.js";import{V as ft}from"./VSelect.f9bb5d50.js";import{V as vt}from"./VSpacer.d2f15bbd.js";import{V as ht}from"./VTextField.bdd7c815.js";import{V as E}from"./VTable.659abf6e.js";import{V as xt}from"./VAvatar.14ab3838.js";import{V as Vt}from"./VImg.e1d6d13a.js";import{V as gt}from"./VPagination.55cfa99a.js";import{V as wt,a as yt}from"./VTabs.d0289b4d.js";import{V as Ct,a as O}from"./VWindowItem.e41d9c91.js";import{V as bt}from"./VDialog.5082ee87.js";import"./validators.330a354f.js";import"./index.b522f886.js";import"./VForm.bdfa9659.js";import"./VInput.f1d0603b.js";import"./router.833d6863.js";import"./index.866805b8.js";import"./forwardRefs.c003b6b8.js";import"./VAutocomplete.90f15a18.js";import"./filter.ba8d916d.js";import"./VList.8c4d2492.js";import"./VMenu.19d01492.js";import"./scopeId.5eb40561.js";import"./dialog-transition.846b6af6.js";import"./easing.36b781ab.js";import"./VCheckboxBtn.c907e9f6.js";import"./VSelectionControl.3364d55e.js";import"./VChip.dd846cb6.js";import"./VNavigationDrawer.e11e4389.js";import"./ssrBoot.1044c117.js";import"./vue3-apexcharts.common.8194ab95.js";import"./vue.runtime.esm-bundler.7eda8933.js";import"./lazy.5ed267c5.js";import"./position.d9639743.js";/* empty css                   */import"./VField.ecc7b478.js";import"./VCounter.97b6be8b.js";import"./VSlideGroup.e69fc17d.js";const kt={class:"me-3",style:{width:"80px"}},Dt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},zt={style:{width:"9rem"}},Ut=t("thead",null,[t("tr",null,[t("th",{scope:"col"}," ID "),t("th",{scope:"col"}," Client "),t("th",{scope:"col"}," City "),t("th",{scope:"col"}," Phone "),t("th",{scope:"col"}," ACTIONS ")])],-1),Pt={class:"d-flex align-center"},At={key:1},$t={class:"d-flex flex-column"},St={class:"text-base"},Tt={class:"text-sm text-disabled"},It={class:"text-capitalize text-base font-weight-semibold"},Nt={class:"text-capitalize text-base font-weight-semibold"},Ot={class:"text-center",style:{width:"5rem"}},Bt=t("tr",null,[t("td",{colspan:"7",class:"text-center"}," No data available ")],-1),Rt=[Bt],Et={class:"text-sm text-disabled"},Lt=t("thead",null,[t("tr",null,[t("th",{class:"text-caption"}," Product "),t("th",{class:"text-caption"}," Date "),t("th",{class:"text-caption"}," Quantity "),t("th",{class:"text-caption"}," Price "),t("th",{class:"text-caption"}," Total ")])],-1),Ft={class:"text-caption"},jt={class:"text-caption"},qt={class:"text-caption"},Ht={class:"text-caption"},Qt={class:"text-caption"},Wt=t("td",null,null,-1),Zt=t("td",null,null,-1),Gt=t("td",null,null,-1),Jt=t("td",{class:"text-caption"}," Total ",-1),Kt={class:"text-caption"},Mt=t("td",null,null,-1),Xt=t("td",null,null,-1),Yt=t("td",null,null,-1),te=t("td",{class:"text-caption"}," Payment ",-1),ee={class:"text-caption"},le=t("td",null,null,-1),ae=t("td",null,null,-1),se=t("td",null,null,-1),oe=t("td",{class:"text-caption"}," Rest ",-1),ne={class:"text-caption"},ie=t("thead",null,[t("tr",null,[t("th",null," Date "),t("th",null," Amount ")])],-1),tl={__name:"index",setup(re){const $=dt(),b=i(""),L=i(!1),W=i(!0),V=i(!1);i(),i(),i();const w=i(10),p=i(1),y=i(1),F=i(0),g=i([]);let C=i([]),h=i("Appetizers"),S=i({isActive:!1});const _=[{id:1,name:"Home"},{id:2,name:"Record"},{id:3,name:"Payments"},{id:4,name:"State"}],k=()=>{S.value.isActive=!0,$.fetchClients({searchValue:b.value,perPage:w.value,currentPage:p.value}).then(n=>{S.value.isActive=!1,C.value=n.data.clients.data,console.log(C.value),y.value=n.data.totalPage,g.value=n.data.cities,F.value=n.data.totalClients,L.value=!1}).catch(n=>{console.error(n),S.value.isActive=!1})};B(k),B(()=>{p.value>y.value&&(p.value=y.value)}),lt(b,()=>{k()});const T=i(!1),I=i(!1),D=i(!1);let u=i();B(()=>{p.value>y.value&&(p.value=y.value)});const Z=at(()=>{const n=C.value.length?(p.value-1)*w.value+1:0,l=C.value.length+(p.value-1)*w.value;return`Showing ${n} to ${l} of ${F.value} entries`}),G=n=>{$.addClient(n).then(l=>{k()}).catch(l=>{console.log(l)})},J=n=>{$.updateClient(n).then(l=>{k()}).catch(l=>{console.log(l)})},K=n=>{$.deleteClient(n).then(l=>{k()}).catch(l=>{console.log(l)})},M=n=>{I.value=!0,u=n},X=n=>{D.value=!0,u=n},Y=n=>{V.value=!0,u=n};return(n,l)=>{const tt=st("RouterLink"),et=rt;return r(),m("section",null,[a(H,null,{default:s(()=>[a(_t,{"model-value":o(S).isActive,class:"align-center justify-center"},{default:s(()=>[a(j,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),a(q,{cols:"12"},{default:s(()=>[a(Q,{title:"Clients"},{default:s(()=>[a(N),a(R,{class:"d-flex flex-wrap py-4 gap-4"},{default:s(()=>[t("div",kt,[a(ft,{modelValue:o(w),"onUpdate:modelValue":l[0]||(l[0]=e=>c(w)?w.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(vt),t("div",Dt,[t("div",zt,[o(L)?(r(),v(j,{key:0,indeterminate:"",color:"primary"})):(r(),v(ht,{key:1,onInput:l[1]||(l[1]=e=>W.value=!0),ref:"searchField",modelValue:o(b),"onUpdate:modelValue":l[2]||(l[2]=e=>c(b)?b.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"]))]),a(x,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:s(()=>[z(" Export ")]),_:1}),a(x,{"prepend-icon":"tabler-plus",onClick:l[3]||(l[3]=e=>T.value=!0)},{default:s(()=>[z(" Add New Client ")]),_:1})])]),_:1}),a(N),a(E,{class:"text-no-wrap"},{default:s(()=>[Ut,t("tbody",null,[(r(!0),m(U,null,P(o(C),e=>(r(),m("tr",{key:e.id,style:{height:"3.75rem"}},[t("td",null,d(e.id),1),t("td",null,[t("div",Pt,[a(xt,{variant:"tonal",class:"me-3",size:"38"},{default:s(()=>[e.avatar?(r(),v(Vt,{key:0,src:e.avatar},null,8,["src"])):(r(),m("span",At,d(e.name.toUpperCase().charAt(0)),1))]),_:2},1024),t("div",$t,[t("h6",St,[a(tt,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium user-list-name"},{default:s(()=>[z(d(e.name),1)]),_:2},1032,["to"])]),t("span",Tt,"@"+d(e.email),1)])])]),t("td",null,[t("span",It,d(e.city.name),1)]),t("td",null,[t("span",Nt,d(e.phone),1)]),t("td",Ot,[a(x,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"apps-client-log-id",params:{id:e.id}}},{default:s(()=>[a(A,{size:"22",icon:"tabler-currency-dollar"})]),_:2},1032,["to"]),a(x,{icon:"",size:"x-small",color:"default",variant:"text",onClick:f=>Y(e)},{default:s(()=>[a(A,{size:"22",icon:"tabler-shopping-cart"})]),_:2},1032,["onClick"]),a(x,{icon:"",size:"x-small",color:"default",variant:"text",onClick:f=>M(e)},{default:s(()=>[a(A,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),a(x,{icon:"",size:"x-small",color:"default",variant:"text",onClick:f=>X(e)},{default:s(()=>[a(A,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(x,{icon:"",size:"x-small",color:"default",variant:"text"},{default:s(()=>[a(A,{size:"22",icon:"tabler-dots-vertical"})]),_:1})])]))),128))]),ot(t("tfoot",null,Rt,512),[[nt,!o(C).length]])]),_:1}),a(N),a(R,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:s(()=>[t("span",Et,d(o(Z)),1),a(gt,{modelValue:o(p),"onUpdate:modelValue":l[4]||(l[4]=e=>c(p)?p.value=e:null),size:"small","total-visible":5,length:o(y)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),a(bt,{modelValue:o(V),"onUpdate:modelValue":l[9]||(l[9]=e=>c(V)?V.value=e:null),scrollable:"",class:"v-dialog-sm","max-width":"700",width:"auto","content-class":"scrollable-dialog"},{default:s(()=>[a(et,{onClick:l[5]||(l[5]=e=>V.value=!o(V))}),a(Q,{title:" "},{default:s(()=>[a(R,{class:"d-flex justify-end gap-3 flex-wrap"},{default:s(()=>[a(wt,{modelValue:o(h),"onUpdate:modelValue":l[6]||(l[6]=e=>c(h)?h.value=e:h=e),grow:""},{default:s(()=>[(r(),m(U,null,P(_,e=>a(yt,{key:e.id,value:e.id},{default:s(()=>[z(d(e.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),a(N),a(Ct,{modelValue:o(h),"onUpdate:modelValue":l[7]||(l[7]=e=>c(h)?h.value=e:h=e),class:"mt-6 pl-3 pa-1"},{default:s(()=>[(r(),v(O,{key:_[0].id,value:_[0].id,width:"150%"},{default:s(()=>[a(H,null,{default:s(()=>[a(q,{cols:"6",md:"6"},{default:s(()=>[a(ut)]),_:1})]),_:1})]),_:1},8,["value"])),(r(),v(O,{key:_[1].id,value:_[1].id,class:"mt-0",style:{"margin-top":"0 !important"}},{default:s(()=>[(r(!0),m(U,null,P(o(u).sales,e=>(r(),v(E,{class:"text-no-wrap mt-0 mb-10"},{default:s(()=>[Lt,t("tbody",null,[(r(!0),m(U,null,P(e.sale_items,f=>(r(),m("tr",{key:f.id},[t("td",Ft,d(f.product.name),1),t("td",jt,d(f.sale_date),1),t("td",qt,d(f.quantity),1),t("td",Ht,d(f.price),1),t("td",Qt,d(f.total_price),1)]))),128)),t("tr",null,[Wt,Zt,Gt,Jt,t("td",Kt,d(e.total_amount),1)]),t("tr",null,[Mt,Xt,Yt,te,t("td",ee,d(e.regulation),1)]),t("tr",null,[le,ae,se,oe,t("td",ne,d(e.balance),1)])])]),_:2},1024))),256))]),_:1},8,["value"])),(r(),v(O,{key:_[2].id,value:_[2].id,class:"mt-0",style:{width:"-webkit-fill-available"},width:"100%"},{default:s(()=>[a(E,{class:"text-no-wrap mt-0",style:{width:"-webkit-fill-available"}},{default:s(()=>[ie,t("tbody",null,[(r(!0),m(U,null,P(o(u).payments,e=>(r(),m("tr",{key:e.id},[t("td",null,d(e.payment_date),1),t("td",null,d(e.amount_paid),1)]))),128))])]),_:1})]),_:1},8,["value"])),(r(),v(O,{key:_[3].id,value:_[3].id},null,8,["value"]))]),_:1},8,["modelValue"]),a(x,{onClick:l[8]||(l[8]=e=>V.value=!1)},{default:s(()=>[z(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ct,{isDrawerOpen:o(T),"onUpdate:isDrawerOpen":l[10]||(l[10]=e=>c(T)?T.value=e:null),cities:o(g),"onUpdate:cities":l[11]||(l[11]=e=>c(g)?g.value=e:null),onClientData:G},null,8,["isDrawerOpen","cities"]),a(pt,{isDrawerOpen:o(I),"onUpdate:isDrawerOpen":l[12]||(l[12]=e=>c(I)?I.value=e:null),client:o(u),"onUpdate:client":l[13]||(l[13]=e=>c(u)?u.value=e:u=e),cities:o(g),"onUpdate:cities":l[14]||(l[14]=e=>c(g)?g.value=e:null),onClientData:J},null,8,["isDrawerOpen","client","cities"]),o(D)?(r(),v(mt,{key:0,isDialogVisible:o(D),"onUpdate:isDialogVisible":l[15]||(l[15]=e=>c(D)?D.value=e:null),client:o(u),"onUpdate:client":l[16]||(l[16]=e=>c(u)?u.value=e:u=e),onClientData:K},null,8,["isDialogVisible","client"])):it("",!0)])}}};export{tl as default};
