import{bd as $,j as O,k as d,o as p,b as V,w as l,p as e,q as r,be as R,c as T,a as D,F as M,E as m,y as x,m as u,D as b}from"./main.3b71879b.js";import"./AppDateTimePicker.44316835.js";import{u as E}from"./useSaleStore.b8cf9583.js";import{_ as G}from"./InvoiceSendInvoiceDrawer.4c886dba.js";/* empty css                        *//* empty css                                                           *//* empty css                                                        */import{a as I,V as v}from"./VBtn.d800b652.js";import{a as K}from"./VOverlay.67ba7c7a.js";import{V as C,c as P}from"./VCard.bb3ef269.js";import{V as L}from"./VForm.6348b5cb.js";import{V as F,a as n}from"./VRow.9f658dda.js";import{V as f}from"./VTextField.400a1cda.js";import{V as h}from"./VInput.6314292f.js";import{V as U}from"./VSwitch.922e3086.js";import"./VField.965a93e8.js";import"./index.db28d725.js";import"./position.38bf95c5.js";import"./router.1b5492c7.js";import"./easing.36b781ab.js";import"./VSpacer.5caba3e1.js";import"./VAvatar.02cdd356.js";import"./VImg.1082014e.js";import"./VTextarea.74bd7095.js";/* empty css                   */import"./forwardRefs.c003b6b8.js";import"./VCounter.70e97725.js";import"./VChip.3f4aa48b.js";import"./VNavigationDrawer.063300b1.js";import"./ssrBoot.5d5196f4.js";import"./lazy.c33cce4c.js";import"./VSelectionControl.043545df.js";const W=u("h6",{class:"text-sm font-weight-medium mb-3"}," Payment Method: ",-1),q={class:"mt-5 d-flex align-center justify-space-between"},z={class:"d-flex align-center justify-space-between"},H={class:"d-flex align-center justify-space-between"},Pe={__name:"[id]",setup(J){const N=$();O();const S=d([]),A=E(),i=d({isActive:!1}),B=d(null);A.getArticlesBenefit(Number(N.params.id)).then(s=>{i.isActive=!1,S.value=s.data.articles}).catch(s=>{i.isActive=!1,console.log(s)});const c=d(!1);d(!1);const _=d(!0),y=d(!1),w=d(!1),k=d(!1),j=()=>{},g=s=>{var a=parseFloat(s.weight)*(parseFloat(s.raw_material_price)/1e3),t=a>0?a+5+1:0;s.benefit=parseFloat(s.price)-t};return(s,a)=>(p(),V(F,null,{default:l(()=>[e(K,{"model-value":r(i).isActive,class:"align-center justify-center"},{default:l(()=>[e(I,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),e(n,{cols:"12",md:"12"},{default:l(()=>[e(C,null,{default:l(()=>[e(P,{class:"d-flex flex-wrap justify-space-between flex-column"},{default:l(()=>[e(L,{ref:"refForm",onSubmit:a[1]||(a[1]=R(()=>{},["prevent"]))},{default:l(()=>[(p(!0),T(M,null,D(r(S),t=>(p(),V(F,null,{default:l(()=>[e(n,{cols:"12",md:"4"},{default:l(()=>[e(f,{modelValue:t.product.name,"onUpdate:modelValue":o=>t.product.name=o,label:"Name of the product",placeholder:"Name of the product"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"2"},{default:l(()=>[e(f,{type:"number",modelValue:t.weight,"onUpdate:modelValue":[o=>t.weight=o,o=>g(t)],label:"Product's Weight",placeholder:"Weight of the product"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"2"},{default:l(()=>[e(f,{modelValue:t.raw_material_price,"onUpdate:modelValue":[o=>t.raw_material_price=o,o=>g(t)],type:"number",label:"RM price KG",placeholder:"price of the raw material per KG"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"2"},{default:l(()=>[e(f,{type:"number",modelValue:t.product_price,"onUpdate:modelValue":[o=>t.product_price=o,o=>g(t)],label:"Product's Price",placeholder:"price of the product"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"2"},{default:l(()=>[e(f,{type:"number",modelValue:t.benefit,"onUpdate:modelValue":o=>t.benefit=o,label:"Product's Benefit",placeholder:"Benefit of the product"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),256)),e(n,{cols:"12"},{default:l(()=>[e(v,{type:"submit",onClick:a[0]||(a[0]=t=>{var o;return(o=s.refForm)==null?void 0:o.validate()})},{default:l(()=>[m(" Submit ")]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",md:"3"},{default:l(()=>[e(C,{class:"mb-8"},{default:l(()=>[e(P,null,{default:l(()=>[e(v,{block:"","prepend-icon":"tabler-send",class:"mb-2",onClick:a[2]||(a[2]=t=>c.value=!0)},{default:l(()=>[m(" Send Invoice ")]),_:1}),r(k)?(p(),V(v,{key:0,block:"",color:"secondary",variant:"tonal",class:"mb-2",to:{name:"apps-POS-sale-preview-id",params:{id:r(B)}}},{default:l(()=>[m(" Preview ")]),_:1},8,["to"])):x("",!0),r(k)?x("",!0):(p(),V(v,{key:1,loading:r(i).isActive,disabled:r(i).isActive,block:"",color:"success",class:"mb-2",onClick:j},{default:l(()=>[m(" Save ")]),_:1},8,["loading","disabled"]))]),_:1})]),_:1}),W,u("div",q,[e(h,{for:"payment-terms"},{default:l(()=>[m(" Payment Terms ")]),_:1}),u("div",null,[e(U,{id:"payment-terms",modelValue:r(_),"onUpdate:modelValue":a[3]||(a[3]=t=>b(_)?_.value=t:null)},null,8,["modelValue"])])]),u("div",z,[e(h,{for:"client-notes"},{default:l(()=>[m(" Client Notes ")]),_:1}),u("div",null,[e(U,{id:"client-notes",modelValue:r(y),"onUpdate:modelValue":a[4]||(a[4]=t=>b(y)?y.value=t:null)},null,8,["modelValue"])])]),u("div",H,[e(h,{for:"payment-stub"},{default:l(()=>[m(" Payment Stub ")]),_:1}),u("div",null,[e(U,{id:"payment-stub",modelValue:r(w),"onUpdate:modelValue":a[5]||(a[5]=t=>b(w)?w.value=t:null)},null,8,["modelValue"])])])]),_:1}),e(G,{isDrawerOpen:r(c),"onUpdate:isDrawerOpen":a[6]||(a[6]=t=>b(c)?c.value=t:null)},null,8,["isDrawerOpen"])]),_:1}))}};export{Pe as default};
