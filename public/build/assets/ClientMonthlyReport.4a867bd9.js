import{k as s,o as O,b as I,w as t,m as R,p as e,C as W,q as r,P as B,D as v,be as M,E as C,ay as P,Z as J,bc as Z,a1 as D,z as G,A as K,bt as z,c as Q,F as ee,a as le,x as ae}from"./main.c3533bd0.js";import{r as F,e as q}from"./validators.330a354f.js";import{V as E}from"./VSpacer.d2f15bbd.js";import{V as k}from"./VBtn.767ed1b7.js";import{V as T,c as $}from"./VCard.bf35c916.js";import{V as Y}from"./VForm.bdfa9659.js";import{V as H,a as g}from"./VRow.f890f0c0.js";import{V as x}from"./VTextField.bdd7c815.js";import{V as X}from"./VAutocomplete.90f15a18.js";import{V as j}from"./VNavigationDrawer.e11e4389.js";import{_ as te}from"./DialogCloseBtn.714a955d.js";import{V as oe}from"./VDialog.5082ee87.js";import{V as se}from"./vue3-apexcharts.common.8194ab95.js";import{V as re}from"./VMenu.19d01492.js";import{V as ne,a as ie,b as ue}from"./VList.8c4d2492.js";const de={class:"d-flex align-center pa-6 pb-1"},pe=R("h6",{class:"text-h6"}," Add Client ",-1),Fe={__name:"AddNewClientDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","clientData"],setup(h,{emit:p}){const f=h,y=s(!1),u=s(),V=s(""),d=s(""),l=s(""),m=s(""),c=s(""),b=s(""),n=s(""),_=s(""),S=s("");s(""),s(""),s("");const N=s(null);s(),s(),s(!1),s(!1),s(),s(),s();const w=()=>{p("update:isDrawerOpen",!1),P(()=>{var i,a;(i=u.value)==null||i.reset(),(a=u.value)==null||a.resetValidation()})},U=()=>{var i;(i=u.value)==null||i.validate().then(({valid:a})=>{a&&(p("clientData",{name:V.value,surname:d.value,email:l.value,address:m.value,phone:c.value,NRC:b.value,NIS:_.value,NIF:n.value,NART:S.value,city_id:N.value}),p("update:isDrawerOpen",!1),P(()=>{var o,A;(o=u.value)==null||o.reset(),(A=u.value)==null||A.resetValidation()}))})},L=i=>{p("update:z",i)};return(i,a)=>(O(),I(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":f.isDrawerOpen,"onUpdate:modelValue":L},{default:t(()=>[R("div",de,[pe,e(E),e(k,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:w},{default:t(()=>[e(W,{size:"18",icon:"tabler-x"})]),_:1})]),e(r(B),{options:{wheelPropagation:!1}},{default:t(()=>[e(T,{flat:""},{default:t(()=>[e($,null,{default:t(()=>[e(Y,{ref_key:"refForm",ref:u,modelValue:r(y),"onUpdate:modelValue":a[10]||(a[10]=o=>v(y)?y.value=o:null),onSubmit:M(U,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(V),"onUpdate:modelValue":a[0]||(a[0]=o=>v(V)?V.value=o:null),rules:[r(F)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(d),"onUpdate:modelValue":a[1]||(a[1]=o=>v(d)?d.value=o:null),label:"Surname"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(l),"onUpdate:modelValue":a[2]||(a[2]=o=>v(l)?l.value=o:null),rules:[r(q)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(X,{clearable:"",modelValue:r(N),"onUpdate:modelValue":a[3]||(a[3]=o=>v(N)?N.value=o:null),items:f.cities,"item-value":"id","item-title":"name",label:"City",rules:[r(F)]},null,8,["modelValue","items","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(m),"onUpdate:modelValue":a[4]||(a[4]=o=>v(m)?m.value=o:null),rules:[r(F)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(c),"onUpdate:modelValue":a[5]||(a[5]=o=>v(c)?c.value=o:null),label:"Phone"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(b),"onUpdate:modelValue":a[6]||(a[6]=o=>v(b)?b.value=o:null),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(n),"onUpdate:modelValue":a[7]||(a[7]=o=>v(n)?n.value=o:null),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(_),"onUpdate:modelValue":a[8]||(a[8]=o=>v(_)?_.value=o:null),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(S),"onUpdate:modelValue":a[9]||(a[9]=o=>v(S)?S.value=o:null),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(k,{type:"submit",class:"me-3"},{default:t(()=>[C(" Submit ")]),_:1}),e(k,{type:"reset",variant:"tonal",color:"secondary",onClick:w},{default:t(()=>[C(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},me={class:"d-flex align-center pa-6 pb-1"},fe=R("h6",{class:"text-h6"}," Edit Client ",-1),Ae={__name:"EditClientDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},client:{type:Object,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","clientData"],setup(h,{emit:p}){const f=h;J(()=>f.client,i=>{console.log(i),i&&(V.value=i.id||0,d.value=i.name||"",l.value=i.surname||"",m.value=i.email||"",c.value=i.address||"",b.value=i.phone||"",n.value=i.NRC||"",_.value=i.NIF||"",N.value=i.NART||"",S.value=i.NIS||"",w.value=i.city_id||"")});const y=s(!1),u=s(),V=s(),d=s(""),l=s(""),m=s(""),c=s(""),b=s(""),n=s(""),_=s(""),S=s(""),N=s(""),w=s(null);s(""),s(""),s(""),s(),s(),s(!1),s(!1),s(!1),s(),s(),s();const U=()=>{p("update:isDrawerOpen",!1),P(()=>{var i,a;(i=u.value)==null||i.reset(),(a=u.value)==null||a.resetValidation()})},L=()=>{var i;(i=u.value)==null||i.validate().then(({valid:a})=>{a&&(p("clientData",{id:V.value,name:d.value,surname:l.value,email:m.value,address:c.value,phone:b.value,NRC:n.value,NIS:S.value,NIF:_.value,NART:N.value}),p("update:isDrawerOpen",!1),P(()=>{var o,A;(o=u.value)==null||o.reset(),(A=u.value)==null||A.resetValidation()}))})};return(i,a)=>(O(),I(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":f.isDrawerOpen},{default:t(()=>[R("div",me,[fe,e(E),e(k,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:U},{default:t(()=>[e(W,{size:"18",icon:"tabler-x"})]),_:1})]),e(r(B),{options:{wheelPropagation:!1}},{default:t(()=>[e(T,{flat:""},{default:t(()=>[e($,null,{default:t(()=>[e(Y,{ref_key:"refForm",ref:u,modelValue:r(y),"onUpdate:modelValue":a[10]||(a[10]=o=>v(y)?y.value=o:null),onSubmit:M(L,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(d),"onUpdate:modelValue":a[0]||(a[0]=o=>v(d)?d.value=o:null),rules:[r(F)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(l),"onUpdate:modelValue":a[1]||(a[1]=o=>v(l)?l.value=o:null),label:"Surname"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(m),"onUpdate:modelValue":a[2]||(a[2]=o=>v(m)?m.value=o:null),rules:[r(q)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(X,{clearable:"",modelValue:r(w),"onUpdate:modelValue":a[3]||(a[3]=o=>v(w)?w.value=o:null),items:f.cities,"item-value":"id","item-title":"name",label:"City",rules:[r(F)]},null,8,["modelValue","items","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(c),"onUpdate:modelValue":a[4]||(a[4]=o=>v(c)?c.value=o:null),rules:[r(F)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(b),"onUpdate:modelValue":a[5]||(a[5]=o=>v(b)?b.value=o:null),label:"Phone"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(n),"onUpdate:modelValue":a[6]||(a[6]=o=>v(n)?n.value=o:null),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(_),"onUpdate:modelValue":a[7]||(a[7]=o=>v(_)?_.value=o:null),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(S),"onUpdate:modelValue":a[8]||(a[8]=o=>v(S)?S.value=o:null),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(N),"onUpdate:modelValue":a[9]||(a[9]=o=>v(N)?N.value=o:null),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(k,{type:"submit",class:"me-3"},{default:t(()=>[C(" Submit ")]),_:1}),e(k,{type:"reset",variant:"tonal",color:"secondary",onClick:U},{default:t(()=>[C(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ie={__name:"ConfirmationDialog",props:{isDialogVisible:{type:Boolean,required:!0},client:{type:Object,required:!0}},emits:["update:isDrawerOpen","userData"],setup(h,{emit:p}){const f=h,y=s(),u=()=>{p("update:isDialogVisible",!1)};J(()=>f.user,d=>{d&&(y.value=d.id||0)});const V=()=>{p("clientData",{id:f.client.id}),p("update:isDialogVisible",!1)};return(d,l)=>{const m=te;return O(),I(oe,{modelValue:f.isDialogVisible,"onUpdate:modelValue":l[2]||(l[2]=c=>f.isDialogVisible=c),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(m,{onClick:l[0]||(l[0]=c=>u())}),e(T,{title:"Confirmation"},{default:t(()=>[e($,null,{default:t(()=>[C(" Are you sure you want to delete this client ? ")]),_:1}),e($,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(k,{color:"secondary",variant:"tonal",onClick:l[1]||(l[1]=c=>p("update:isDialogVisible",!1))},{default:t(()=>[C(" Disagree ")]),_:1}),e(k,{onClick:V},{default:t(()=>[C(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},$e=Z("ClientListStore",{actions:{fetchClients(h){return D.get("/api/clients/list",{params:h})},addClient(h){const{name:p,surname:f,email:y,address:u,phone:V,NRC:d,NIF:l,NIS:m,NART:c,city_id:b}=h;return new Promise((n,_)=>{D.post("/api/clients/store",{name:p,surname:f,email:y,address:u,phone:V,NRC:d,NIF:l,NART:c,NIS:m,city_id:b}).then(S=>n(S)).catch(S=>_(S))})},updateClient(h){const{id:p,name:f,surname:y,email:u,address:V,phone:d,NRC:l,NIF:m,NIS:c,NART:b,city_id:n}=h;return new Promise((_,S)=>{let N={name:f,surname:y,email:u,address:V,phone:d,NRC:l,NIF:m,NART:b,NIS:c,city_id:n};D.post("/api/clients/update/"+p,N).then(w=>_(w)).catch(w=>S(w))})},fetchClient(h){return new Promise((p,f)=>{D.get(`/apps/clients/${h}`).then(y=>p(y)).catch(y=>f(y))})},deleteClient(h){console.log(h);const{id:p}=h;return new Promise((f,y)=>{D.delete("/api/clients/delete/"+p).then(u=>f(u)).catch(u=>y(u))})},fetchClientLog(h){return D.post("/api/clients/log",{params:h})}}}),ce={class:"mt-n4 me-n2"},Re={__name:"ClientMonthlyReport",setup(h){const p=G(),f=s(0),y=s(),u=K(()=>{const V=p.current.value.colors,d=p.current.value.variables,l=`rgba(${z(V.primary)},${d["dragged-opacity"]})`,m=`rgba(${z(V["on-background"])},${d["high-emphasis-opacity"]})`,c=`rgba(${z(String(d["border-color"]))},${d["border-opacity"]})`,b=`rgba(${z(V["on-surface"])},${d["disabled-opacity"]})`;return[{title:"Orders",icon:"tabler-shopping-cart",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,V.primary,l,l,l,l,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:c},axisTicks:{show:!1},labels:{style:{colors:b,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:b,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},yaxis:{labels:{show:!1}},grid:{padding:{right:0,left:-20}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}}}}]},series:[{data:[28,10,45,38,15,30,35,30,8]}]},{title:"Sales",icon:"tabler-chart-bar",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,l,l,V.primary,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:c},axisTicks:{show:!1},labels:{style:{colors:b,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:b,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},grid:{padding:{right:0}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},yaxis:{labels:{show:!1}}}}]},series:[{data:[35,25,15,40,42,25,48,8,30]}]},{title:"Profit",icon:"tabler-currency-dollar",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,V.primary,l,l,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:c},axisTicks:{show:!1},labels:{style:{colors:b,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:b,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},grid:{padding:{right:0}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},yaxis:{labels:{show:!1}}}}]},series:[{data:[10,22,27,33,42,32,27,22,8]}]},{title:"Income",icon:"tabler-chart-pie-2",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,l,l,l,l,V.primary],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:c},axisTicks:{show:!1},labels:{style:{colors:b,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:b,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},grid:{padding:{right:0}},yaxis:{labels:{show:!1}}}}]},series:[{data:[5,9,12,18,20,25,30,36,48]}]}]});return(V,d)=>(O(),I(T,{title:"Earning Reports",subtitle:"Yearly Earnings Overview"},{append:t(()=>[R("div",ce,[e(k,{icon:"",size:"x-small",variant:"plain",color:"default"},{default:t(()=>[e(W,{size:"22",icon:"tabler-dots-vertical"}),e(re,{activator:"parent"},{default:t(()=>[e(ne,null,{default:t(()=>[(O(),Q(ee,null,le(["View More","Delete"],(l,m)=>e(ie,{key:m,value:m},{default:t(()=>[e(ue,null,{default:t(()=>[C(ae(l),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})])]),default:t(()=>[e($,null,{default:t(()=>[(O(),I(r(se),{ref_key:"refVueApexChart",ref:y,key:r(f),options:r(u)[Number(r(f))].chartOptions,series:r(u)[Number(r(f))].series,class:"mt-3"},null,8,["options","series"]))]),_:1})]),_:1}))}};export{Re as _,Fe as a,Ae as b,Ie as c,$e as u};
