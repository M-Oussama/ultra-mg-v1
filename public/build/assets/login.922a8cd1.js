import{k as l,bd as F,j as M,r as j,o as q,b as A,w as a,p as e,m as n,q as t,V as P,v as b,x as E,be as J,D as g,E as h,a1 as O}from"./main.6ddfa6b7.js";import{u as U}from"./useAppAbility.b4a6a3a5.js";import{_ as $}from"./AuthProvider.456e5543.js";import{u as v,m as G,a as W}from"./useGenerateImageVariant.fdc0ec0e.js";import{r as x,e as z}from"./validators.330a354f.js";import{a as H,b as K,c as Q,d as X}from"./auth-v2-login-illustration-light.bdce81f1.js";import{b as y}from"./route-block.3d2a9a4d.js";import{V as w}from"./VImg.000ebbd2.js";import{a as i,V as k}from"./VRow.09821601.js";import{V as Y,c as I}from"./VCard.0bfd53b9.js";import{V as S}from"./VTextField.84b2ab9a.js";import{V as Z}from"./VCheckbox.5dda630c.js";import{V as ee}from"./VBtn.376421a6.js";import{V as L}from"./VDivider.8642c1cc.js";import{V as te}from"./VForm.116cc20e.js";import"./index.b522f886.js";import"./router.6776eb4e.js";import"./VAvatar.de0a6008.js";import"./position.e19bf76f.js";/* empty css                   */import"./VField.b42ed233.js";import"./index.312d6846.js";import"./VInput.5e24232f.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./VCounter.7ab3dccf.js";import"./VCheckboxBtn.6755e995.js";import"./VSelectionControl.3c10b28a.js";const se={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},ae={class:"d-flex align-center justify-center w-100 h-100"},oe={class:"text-h5 font-weight-semibold mb-1"},re=n("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),le={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ie=n("span",{class:"mx-4"},"or",-1),ne={__name:"login",setup(me){const C=v(X,Q,K,H,!0),D=v(W,G),m=l(!1),V=F(),R=M(),N=U(),c=l({email:void 0,password:void 0}),_=l(),u=l("admin@demo.com"),d=l("admin"),p=l(!1),T=()=>{O.post("/auth/login",{email:u.value,password:d.value,device_name:"iphone"}).then(r=>{const{accessToken:s,userData:f,userAbilities:o}=r.data;localStorage.setItem("userAbilities",JSON.stringify(o)),N.update(o),localStorage.setItem("userData",JSON.stringify(f)),localStorage.setItem("accessToken",JSON.stringify(s)),R.replace(V.query.to?String(V.query.to):"/")}).catch(r=>{const{errors:s}=r.response.data;c.value=s,console.error(r.response.data)})},B=()=>{var r;(r=_.value)==null||r.validate().then(({valid:s})=>{s&&T()})};return(r,s)=>{const f=j("RouterLink");return q(),A(k,{"no-gutters":"",class:"auth-wrapper"},{default:a(()=>[e(i,{lg:"8",class:"d-none d-lg-flex"},{default:a(()=>[n("div",se,[n("div",ae,[e(w,{"max-width":"505",src:t(C),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(w,{src:t(D),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(i,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:a(()=>[e(Y,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:a(()=>[e(I,null,{default:a(()=>[e(t(P),{nodes:t(b).app.logo,class:"mb-6"},null,8,["nodes"]),n("h5",oe," Welcome to "+E(t(b).app.title)+"! \u{1F44B}\u{1F3FB} ",1),re]),_:1}),e(I,null,{default:a(()=>[e(t(te),{ref_key:"refVForm",ref:_,onSubmit:J(B,["prevent"])},{default:a(()=>[e(k,null,{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(S,{modelValue:t(u),"onUpdate:modelValue":s[0]||(s[0]=o=>g(u)?u.value=o:null),label:"Email",type:"email",rules:[t(x),t(z)],"error-messages":t(c).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(S,{modelValue:t(d),"onUpdate:modelValue":s[1]||(s[1]=o=>g(d)?d.value=o:null),label:"Password",rules:[t(x)],type:t(m)?"text":"password","error-messages":t(c).password,"append-inner-icon":t(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=o=>m.value=!t(m))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),n("div",le,[e(Z,{modelValue:t(p),"onUpdate:modelValue":s[3]||(s[3]=o=>g(p)?p.value=o:null),label:"Remember me"},null,8,["modelValue"]),e(f,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:a(()=>[h(" Forgot Password? ")]),_:1})]),e(ee,{block:"",type:"submit"},{default:a(()=>[h(" Login ")]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex align-center"},{default:a(()=>[e(L),ie,e(L)]),_:1}),e(i,{cols:"12",class:"text-center"},{default:a(()=>[e($)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}};typeof y=="function"&&y(ne);export{ne as default};
