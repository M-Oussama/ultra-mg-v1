import{k as s,o as O,b as I,w as t,m as T,p as e,C as W,q as r,P as B,D as v,be as M,E as D,ay as P,Z as J,bc as Z,a1 as k,z as G,A as K,by as R,c as Q,F as ee,a as le,x as ae}from"./main.ccc6aae0.js";import{r as A,e as q}from"./validators.330a354f.js";import{V as E}from"./VSpacer.fc3a499d.js";import{V as C}from"./VBtn.7efa8e0f.js";import{V as U,c as L}from"./VCard.36c7adfd.js";import{V as Y}from"./VForm.8ba2a0de.js";import{V as H,a as y}from"./VRow.a17ab33e.js";import{V as x}from"./VTextField.8db2e7e8.js";import{V as X}from"./VAutocomplete.5bdf49b5.js";import{V as j}from"./VNavigationDrawer.df836fef.js";import{_ as te}from"./DialogCloseBtn.eb9ea561.js";import{V as oe}from"./VDialog.11663ea2.js";import{V as se}from"./vue3-apexcharts.common.bed8535d.js";import{V as re}from"./VMenu.01138ff3.js";import{V as ne,a as ie,b as ue}from"./VList.54d6dfac.js";const de={class:"d-flex align-center pa-6 pb-1"},pe=T("h6",{class:"text-h6"}," Add Client ",-1),Ae={__name:"AddNewClientDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","clientData"],setup(u,{emit:m}){const c=u,h=s(!1),d=s(),g=s(""),p=s(""),l=s(""),f=s(""),b=s(""),V=s(""),n=s(""),_=s(""),S=s("");s(""),s(""),s("");const N=s(null);s(),s(),s(!1),s(!1),s(),s(),s();const w=()=>{m("update:isDrawerOpen",!1),P(()=>{var i,a;(i=d.value)==null||i.reset(),(a=d.value)==null||a.resetValidation()})},$=()=>{var i;(i=d.value)==null||i.validate().then(({valid:a})=>{a&&(m("clientData",{name:g.value,surname:p.value,email:l.value,address:f.value,phone:b.value,NRC:V.value,NIS:_.value,NIF:n.value,NART:S.value,city_id:N.value}),m("update:isDrawerOpen",!1),P(()=>{var o,F;(o=d.value)==null||o.reset(),(F=d.value)==null||F.resetValidation()}))})},z=i=>{m("update:z",i)};return(i,a)=>(O(),I(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":c.isDrawerOpen,"onUpdate:modelValue":z},{default:t(()=>[T("div",de,[pe,e(E),e(C,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:w},{default:t(()=>[e(W,{size:"18",icon:"tabler-x"})]),_:1})]),e(r(B),{options:{wheelPropagation:!1}},{default:t(()=>[e(U,{flat:""},{default:t(()=>[e(L,null,{default:t(()=>[e(Y,{ref_key:"refForm",ref:d,modelValue:r(h),"onUpdate:modelValue":a[10]||(a[10]=o=>v(h)?h.value=o:null),onSubmit:M($,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(g),"onUpdate:modelValue":a[0]||(a[0]=o=>v(g)?g.value=o:null),rules:[r(A)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(p),"onUpdate:modelValue":a[1]||(a[1]=o=>v(p)?p.value=o:null),label:"Surname"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(l),"onUpdate:modelValue":a[2]||(a[2]=o=>v(l)?l.value=o:null),rules:[r(q)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(X,{clearable:"",modelValue:r(N),"onUpdate:modelValue":a[3]||(a[3]=o=>v(N)?N.value=o:null),items:c.cities,"item-value":"id","item-title":"name",label:"City",rules:[r(A)]},null,8,["modelValue","items","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(f),"onUpdate:modelValue":a[4]||(a[4]=o=>v(f)?f.value=o:null),rules:[r(A)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(b),"onUpdate:modelValue":a[5]||(a[5]=o=>v(b)?b.value=o:null),label:"Phone"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(V),"onUpdate:modelValue":a[6]||(a[6]=o=>v(V)?V.value=o:null),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(n),"onUpdate:modelValue":a[7]||(a[7]=o=>v(n)?n.value=o:null),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(_),"onUpdate:modelValue":a[8]||(a[8]=o=>v(_)?_.value=o:null),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(S),"onUpdate:modelValue":a[9]||(a[9]=o=>v(S)?S.value=o:null),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(C,{type:"submit",class:"me-3"},{default:t(()=>[D(" Submit ")]),_:1}),e(C,{type:"reset",variant:"tonal",color:"secondary",onClick:w},{default:t(()=>[D(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},me={class:"d-flex align-center pa-6 pb-1"},fe=T("h6",{class:"text-h6"}," Edit Client ",-1),Fe={__name:"EditClientDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},client:{type:Object,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","clientData"],setup(u,{emit:m}){const c=u;J(()=>c.client,i=>{console.log(i),i&&(g.value=i.id||0,p.value=i.name||"",l.value=i.surname||"",f.value=i.email||"",b.value=i.address||"",V.value=i.phone||"",n.value=i.NRC||"",_.value=i.NIF||"",N.value=i.NART||"",S.value=i.NIS||"",w.value=i.city_id||"")});const h=s(!1),d=s(),g=s(),p=s(""),l=s(""),f=s(""),b=s(""),V=s(""),n=s(""),_=s(""),S=s(""),N=s(""),w=s(null);s(""),s(""),s(""),s(),s(),s(!1),s(!1),s(!1),s(),s(),s();const $=()=>{m("update:isDrawerOpen",!1),P(()=>{var i,a;(i=d.value)==null||i.reset(),(a=d.value)==null||a.resetValidation()})},z=()=>{var i;(i=d.value)==null||i.validate().then(({valid:a})=>{a&&(m("clientData",{id:g.value,name:p.value,surname:l.value,email:f.value,address:b.value,phone:V.value,NRC:n.value,NIS:S.value,NIF:_.value,NART:N.value}),m("update:isDrawerOpen",!1),P(()=>{var o,F;(o=d.value)==null||o.reset(),(F=d.value)==null||F.resetValidation()}))})};return(i,a)=>(O(),I(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":c.isDrawerOpen},{default:t(()=>[T("div",me,[fe,e(E),e(C,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:$},{default:t(()=>[e(W,{size:"18",icon:"tabler-x"})]),_:1})]),e(r(B),{options:{wheelPropagation:!1}},{default:t(()=>[e(U,{flat:""},{default:t(()=>[e(L,null,{default:t(()=>[e(Y,{ref_key:"refForm",ref:d,modelValue:r(h),"onUpdate:modelValue":a[10]||(a[10]=o=>v(h)?h.value=o:null),onSubmit:M(z,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(p),"onUpdate:modelValue":a[0]||(a[0]=o=>v(p)?p.value=o:null),rules:[r(A)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(l),"onUpdate:modelValue":a[1]||(a[1]=o=>v(l)?l.value=o:null),label:"Surname"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(f),"onUpdate:modelValue":a[2]||(a[2]=o=>v(f)?f.value=o:null),rules:[r(q)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(X,{clearable:"",modelValue:r(w),"onUpdate:modelValue":a[3]||(a[3]=o=>v(w)?w.value=o:null),items:c.cities,"item-value":"id","item-title":"name",label:"City",rules:[r(A)]},null,8,["modelValue","items","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(b),"onUpdate:modelValue":a[4]||(a[4]=o=>v(b)?b.value=o:null),rules:[r(A)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(V),"onUpdate:modelValue":a[5]||(a[5]=o=>v(V)?V.value=o:null),label:"Phone"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(n),"onUpdate:modelValue":a[6]||(a[6]=o=>v(n)?n.value=o:null),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(_),"onUpdate:modelValue":a[7]||(a[7]=o=>v(_)?_.value=o:null),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(S),"onUpdate:modelValue":a[8]||(a[8]=o=>v(S)?S.value=o:null),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(N),"onUpdate:modelValue":a[9]||(a[9]=o=>v(N)?N.value=o:null),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(C,{type:"submit",class:"me-3"},{default:t(()=>[D(" Submit ")]),_:1}),e(C,{type:"reset",variant:"tonal",color:"secondary",onClick:$},{default:t(()=>[D(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ie={__name:"ConfirmationDialog",props:{isDialogVisible:{type:Boolean,required:!0},client:{type:Object,required:!0}},emits:["update:isDrawerOpen","userData"],setup(u,{emit:m}){const c=u,h=s(),d=()=>{m("update:isDialogVisible",!1)};J(()=>c.user,p=>{p&&(h.value=p.id||0)});const g=()=>{m("clientData",{id:c.client.id}),m("update:isDialogVisible",!1)};return(p,l)=>{const f=te;return O(),I(oe,{modelValue:c.isDialogVisible,"onUpdate:modelValue":l[2]||(l[2]=b=>c.isDialogVisible=b),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(f,{onClick:l[0]||(l[0]=b=>d())}),e(U,{title:"Confirmation"},{default:t(()=>[e(L,null,{default:t(()=>[D(" Are you sure you want to delete this client ? ")]),_:1}),e(L,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(C,{color:"secondary",variant:"tonal",onClick:l[1]||(l[1]=b=>m("update:isDialogVisible",!1))},{default:t(()=>[D(" Disagree ")]),_:1}),e(C,{onClick:g},{default:t(()=>[D(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Le=Z("ClientListStore",{actions:{fetchClients(u){return k.get("/api/clients/list",{params:u})},addClient(u){const{name:m,surname:c,email:h,address:d,phone:g,NRC:p,NIF:l,NIS:f,NART:b,city_id:V}=u;return new Promise((n,_)=>{k.post("/api/clients/store",{name:m,surname:c,email:h,address:d,phone:g,NRC:p,NIF:l,NART:b,NIS:f,city_id:V}).then(S=>n(S)).catch(S=>_(S))})},updateClient(u){const{id:m,name:c,surname:h,email:d,address:g,phone:p,NRC:l,NIF:f,NIS:b,NART:V,city_id:n}=u;return new Promise((_,S)=>{let N={name:c,surname:h,email:d,address:g,phone:p,NRC:l,NIF:f,NART:V,NIS:b,city_id:n};k.post("/api/clients/update/"+m,N).then(w=>_(w)).catch(w=>S(w))})},fetchClient(u){return new Promise((m,c)=>{k.get(`/apps/clients/${u}`).then(h=>m(h)).catch(h=>c(h))})},deleteClient(u){console.log(u);const{id:m}=u;return new Promise((c,h)=>{k.delete("/api/clients/delete/"+m).then(d=>c(d)).catch(d=>h(d))})},fetchClientLog(u){return k.post("/api/clients/log",{params:u})},exportAllLog(u){return k.post("/api/clients/log/generate",{params:u})},getLogList(u){return k.get("/api/client-log/"+u+"/download",{responseType:"blob"})},getLogListWithReturn(u){return k.get("/api/client-log/return/"+u+"/download",{responseType:"blob"})},getProductLog(u){return k.get("/api/client/"+u+"/product/log/download",{responseType:"blob"})}}}),ce={class:"mt-n4 me-n2"},Te={__name:"ClientMonthlyReport",setup(u){const m=G(),c=s(0),h=s(),d=K(()=>{const g=m.current.value.colors,p=m.current.value.variables,l=`rgba(${R(g.primary)},${p["dragged-opacity"]})`,f=`rgba(${R(g["on-background"])},${p["high-emphasis-opacity"]})`,b=`rgba(${R(String(p["border-color"]))},${p["border-opacity"]})`,V=`rgba(${R(g["on-surface"])},${p["disabled-opacity"]})`;return[{title:"Orders",icon:"tabler-shopping-cart",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,g.primary,l,l,l,l,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[f],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},yaxis:{labels:{show:!1}},grid:{padding:{right:0,left:-20}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}}}}]},series:[{data:[28,10,45,38,15,30,35,30,8]}]},{title:"Sales",icon:"tabler-chart-bar",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,l,l,g.primary,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[f],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},grid:{padding:{right:0}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},yaxis:{labels:{show:!1}}}}]},series:[{data:[35,25,15,40,42,25,48,8,30]}]},{title:"Profit",icon:"tabler-currency-dollar",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,g.primary,l,l,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[f],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},grid:{padding:{right:0}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},yaxis:{labels:{show:!1}}}}]},series:[{data:[10,22,27,33,42,32,27,22,8]}]},{title:"Income",icon:"tabler-chart-pie-2",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,l,l,l,l,g.primary],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[f],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},grid:{padding:{right:0}},yaxis:{labels:{show:!1}}}}]},series:[{data:[5,9,12,18,20,25,30,36,48]}]}]});return(g,p)=>(O(),I(U,{title:"Earning Reports",subtitle:"Yearly Earnings Overview"},{append:t(()=>[T("div",ce,[e(C,{icon:"",size:"x-small",variant:"plain",color:"default"},{default:t(()=>[e(W,{size:"22",icon:"tabler-dots-vertical"}),e(re,{activator:"parent"},{default:t(()=>[e(ne,null,{default:t(()=>[(O(),Q(ee,null,le(["View More","Delete"],(l,f)=>e(ie,{key:f,value:f},{default:t(()=>[e(ue,null,{default:t(()=>[D(ae(l),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})])]),default:t(()=>[e(L,null,{default:t(()=>[(O(),I(r(se),{ref_key:"refVueApexChart",ref:h,key:r(c),options:r(d)[Number(r(c))].chartOptions,series:r(d)[Number(r(c))].series,class:"mt-3"},null,8,["options","series"]))]),_:1})]),_:1}))}};export{Te as _,Ae as a,Fe as b,Ie as c,Le as u};
