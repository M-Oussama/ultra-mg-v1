import{k as s,bd as q,$ as A,Z as H,A as Q,r as Z,o as p,c as h,p as a,w as n,q as o,m as l,D as u,b as w,E as D,F as G,a as J,x as f,C as O,H as K,I as W,y as X,bf as z}from"./main.3e4fe580.js";import{_ as Y,a as ee}from"./EditEmployeeDrawer.402e090e.js";import{_ as te}from"./ConfirmationDialog.00c17b51.js";import{s as k}from"./successMiddleware.0039b70f.js";import{e as S}from"./errorsMiddleware.17878227.js";import{u as ae}from"./useAttendanceStore.c721076d.js";import{a as le}from"./VOverlay.2382ad16.js";import{a as P,V as b}from"./VBtn.78fdee4b.js";import{a as se,V as oe}from"./VRow.04916300.js";import{V as ie,c as $}from"./VCard.6ecf732f.js";import{V as C}from"./VDivider.24d37960.js";import{V as re}from"./VSelect.47435795.js";import{V as ne}from"./VSpacer.ff002d0c.js";import{V as me}from"./VTextField.8a7f8c82.js";import{V as de}from"./VTable.102acbab.js";import{V as pe}from"./VAvatar.6ab53fb2.js";import{V as ue}from"./VImg.0f30bc9b.js";import{V as ce}from"./VPagination.63ff60cb.js";import"./AppDateTimePicker.a0081449.js";import"./VField.8b01d37c.js";import"./index.b0f48be5.js";import"./VInput.c44d1482.js";import"./router.304344cf.js";import"./position.ba96c1c3.js";import"./easing.36b781ab.js";import"./validators.330a354f.js";import"./index.b522f886.js";import"./VForm.9ee55331.js";import"./forwardRefs.c003b6b8.js";import"./VAutocomplete.bd291683.js";import"./filter.99772e0d.js";import"./VList.763f3acf.js";import"./VMenu.a8ae5610.js";import"./scopeId.d4b76a30.js";import"./dialog-transition.2b895dc7.js";import"./VCheckboxBtn.f819973a.js";import"./VSelectionControl.1891ba56.js";import"./VChip.afddbe62.js";import"./VNavigationDrawer.b7bda0b7.js";import"./ssrBoot.765a8e5e.js";import"./DialogCloseBtn.156c971b.js";import"./VDialog.8856b7dc.js";import"./lazy.8911aa6c.js";/* empty css                   */import"./VCounter.5e3bb5dc.js";const fe={class:"me-3",style:{width:"80px"}},ve={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ye={style:{width:"9rem"}},Ve=l("thead",null,[l("tr",null,[l("th",{scope:"col"}," ID "),l("th",{scope:"col"}," Employee "),l("th",{scope:"col"}," ACTIONS ")])],-1),_e={class:"d-flex align-center"},ge={key:1},xe={class:"d-flex flex-column"},he={class:"text-base"},we={class:"text-sm text-disabled"},be={class:"text-center",style:{width:"5rem"}},Ee=l("tr",null,[l("td",{colspan:"7",class:"text-center"}," No data available ")],-1),Ae=[Ee],De={class:"text-sm text-disabled"},ke={__name:"[id]",setup(Se){const B=ae(),_=s(""),N=s(!1),r=s({isActive:!0}),I=q(),R=s(!0);s(),s(),s();const v=s(10),m=s(1),c=s(1),U=s(0);let y=s([]);const V=()=>{r.value.isActive=!0,B.fetchEmployeesByAttendance(Number(I.params.id)).then(i=>{y.value=i.data.employees.data,c.value=i.data.totalPage,U.value=i.data.totalEmployees,N.value=!1,r.value.isActive=!1,console.log(i)}).catch(i=>{console.error(i),r.value.isActive=!1})};A(V),A(()=>{m.value>c.value&&(m.value=c.value)}),H(_,()=>{V()});const g=s(!1),E=s(!1),x=s(!1);let d=s();A(()=>{m.value>c.value&&(m.value=c.value)});const T=Q(()=>{const i=y.value.length?(m.value-1)*v.value+1:0,e=y.value.length+(m.value-1)*v.value;return`Showing ${i} to ${e} of ${U.value} entries`}),F=i=>{r.value.isActive=!0,employeeStore.addEmployee(i).then(e=>{k(e.data.message),r.value.isActive=!1,V()}).catch(e=>{S(e.data.message),r.value.isActive=!1})},L=i=>{r.value.isActive=!0,employeeStore.updateEmployee(i).then(e=>{k(e.data.message),r.value.isActive=!1,V()}).catch(e=>{S(e.data.message),r.value.isActive=!1})},j=i=>{r.value.isActive=!0,employeeStore.deleteEmployee(i).then(e=>{r.value.isActive=!1,k(e.data.message)}).catch(e=>{S(e.data.message),r.value.isActive=!1}),V()};return(i,e)=>{const M=Z("RouterLink");return p(),h("section",null,[a(oe,null,{default:n(()=>[a(le,{"model-value":o(r).isActive,class:"align-center justify-center"},{default:n(()=>[a(P,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),a(se,{cols:"12"},{default:n(()=>[a(ie,{title:"Employee Record"},{default:n(()=>[a(C),a($,{class:"d-flex flex-wrap py-4 gap-4"},{default:n(()=>[l("div",fe,[a(re,{modelValue:o(v),"onUpdate:modelValue":e[0]||(e[0]=t=>u(v)?v.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(ne),l("div",ve,[l("div",ye,[o(N)?(p(),w(P,{key:0,indeterminate:"",color:"primary"})):(p(),w(me,{key:1,onInput:e[1]||(e[1]=t=>R.value=!0),ref:"searchField",modelValue:o(_),"onUpdate:modelValue":e[2]||(e[2]=t=>u(_)?_.value=t:null),placeholder:"Search",density:"compact"},null,8,["modelValue"]))]),a(b,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:n(()=>[D(" Export ")]),_:1}),a(b,{"prepend-icon":"tabler-plus",onClick:e[3]||(e[3]=t=>g.value=!0)},{default:n(()=>[D(" New Employee ")]),_:1})])]),_:1}),a(C),a(de,{class:"text-no-wrap"},{default:n(()=>[Ve,l("tbody",null,[(p(!0),h(G,null,J(o(y),t=>(p(),h("tr",{key:t.id,style:{height:"3.75rem"}},[l("td",null,f(t.id),1),l("td",null,[l("div",_e,[a(pe,{variant:"tonal",class:"me-3",size:"38"},{default:n(()=>[t.avatar?(p(),w(ue,{key:0,src:t.avatar},null,8,["src"])):(p(),h("span",ge,f(t.name.toUpperCase().charAt(0)),1))]),_:2},1024),l("div",xe,[l("h6",he,[a(M,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium user-list-name"},{default:n(()=>[D(f(t.name)+" "+f(t.surname),1)]),_:2},1032,["to"])]),l("span",we,"@"+f(t.email),1)])])]),l("td",be,[a(b,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"apps-attendance-employees-record-id",params:{id:t.id,attendanceId:Number(o(I).params.id)}}},{default:n(()=>[a(O,{size:"22",icon:"tabler-eye"})]),_:2},1032,["to"]),a(b,{icon:"",size:"x-small",color:"default",variant:"text"},{default:n(()=>[a(O,{size:"22",icon:"tabler-dots-vertical"})]),_:1})])]))),128))]),K(l("tfoot",null,Ae,512),[[W,!o(y).length]])]),_:1}),a(C),a($,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:n(()=>[l("span",De,f(o(T)),1),a(ce,{modelValue:o(m),"onUpdate:modelValue":e[4]||(e[4]=t=>u(m)?m.value=t:null),size:"small","total-visible":5,length:o(c)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),a(Y,{isDrawerOpen:o(g),"onUpdate:isDrawerOpen":e[5]||(e[5]=t=>u(g)?g.value=t:null),onEmployeeData:F},null,8,["isDrawerOpen"]),a(ee,{isDrawerOpen:o(E),"onUpdate:isDrawerOpen":e[6]||(e[6]=t=>u(E)?E.value=t:null),employee:o(d),"onUpdate:employee":e[7]||(e[7]=t=>u(d)?d.value=t:d=t),onEmployeeData:L},null,8,["isDrawerOpen","employee"]),o(x)?(p(),w(te,{key:0,isDialogVisible:o(x),"onUpdate:isDialogVisible":e[8]||(e[8]=t=>u(x)?x.value=t:null),employee:o(d),"onUpdate:employee":e[9]||(e[9]=t=>u(d)?d.value=t:d=t),onEmployeeData:j},null,8,["isDialogVisible","employee"])):X("",!0)])}}};typeof z=="function"&&z(ke);export{ke as default};
