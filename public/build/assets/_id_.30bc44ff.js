import{k as s,bd as M,$ as A,Z as q,A as H,r as Q,o as p,c as h,p as a,w as n,q as o,m as l,D as u,b as w,E as D,F as Z,a as G,x as v,C as O,H as J,I as K,y as W}from"./main.d0838da3.js";import{_ as X,a as Y}from"./EditEmployeeDrawer.ee33bc5a.js";import{_ as ee}from"./ConfirmationDialog.42c99d8a.js";import{s as k}from"./successMiddleware.7810b3f1.js";import{e as S}from"./errorsMiddleware.0785696e.js";import{u as te}from"./useAttendanceStore.d1a18308.js";import{a as ae}from"./VOverlay.75263baa.js";import{a as z,V as E}from"./VBtn.d8db924d.js";import{a as le,V as se}from"./VRow.10fd63fa.js";import{V as oe,c as P}from"./VCard.9b1f82a8.js";import{V as C}from"./VDivider.43577cc2.js";import{V as ie}from"./VSelect.4512a206.js";import{V as re}from"./VSpacer.27cbae4e.js";import{V as ne}from"./VTextField.21e071fb.js";import{V as me}from"./VTable.57beb093.js";import{V as de}from"./VAvatar.83fd3a57.js";import{V as pe}from"./VImg.2be96fe3.js";import{V as ue}from"./VPagination.bb480f11.js";import"./AppDateTimePicker.3a302d25.js";import"./VField.b81f47ba.js";import"./index.7e79e22f.js";import"./VInput.79096a8f.js";import"./router.390136dd.js";import"./position.2e295d5d.js";import"./easing.36b781ab.js";import"./validators.330a354f.js";import"./index.b522f886.js";import"./VForm.47365830.js";import"./forwardRefs.c003b6b8.js";import"./VAutocomplete.04d7cc02.js";import"./filter.91ac11e8.js";import"./VList.2104a7ae.js";import"./VMenu.b3ef4d48.js";import"./scopeId.82d3ec79.js";import"./dialog-transition.126256d7.js";import"./VCheckboxBtn.00c9ba0f.js";import"./VSelectionControl.9fdb71fb.js";import"./VChip.c3a21cb8.js";import"./VNavigationDrawer.da1e2a98.js";import"./ssrBoot.d9a330cd.js";import"./DialogCloseBtn.dfbf179c.js";import"./VDialog.225916a1.js";import"./lazy.bbc0a3b2.js";/* empty css                   */import"./VCounter.9b7bf05a.js";const ce={class:"me-3",style:{width:"80px"}},ve={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},fe={style:{width:"9rem"}},ye=l("thead",null,[l("tr",null,[l("th",{scope:"col"}," ID "),l("th",{scope:"col"}," Employee "),l("th",{scope:"col"}," ACTIONS ")])],-1),Ve={class:"d-flex align-center"},_e={key:1},ge={class:"d-flex flex-column"},xe={class:"text-base"},he={class:"text-sm text-disabled"},we={class:"text-center",style:{width:"5rem"}},Ee=l("tr",null,[l("td",{colspan:"7",class:"text-center"}," No data available ")],-1),be=[Ee],Ae={class:"text-sm text-disabled"},_t={__name:"[id]",setup(De){const $=te(),_=s(""),N=s(!1),r=s({isActive:!0}),I=M(),B=s(!0);s(),s(),s();const f=s(10),m=s(1),c=s(1),U=s(0);let y=s([]);const V=()=>{r.value.isActive=!0,$.fetchEmployeesByAttendance(Number(I.params.id)).then(i=>{y.value=i.data.employees.data,c.value=i.data.totalPage,U.value=i.data.totalEmployees,N.value=!1,r.value.isActive=!1,console.log(i)}).catch(i=>{console.error(i),r.value.isActive=!1})};A(V),A(()=>{m.value>c.value&&(m.value=c.value)}),q(_,()=>{V()});const g=s(!1),b=s(!1),x=s(!1);let d=s();A(()=>{m.value>c.value&&(m.value=c.value)});const R=H(()=>{const i=y.value.length?(m.value-1)*f.value+1:0,e=y.value.length+(m.value-1)*f.value;return`Showing ${i} to ${e} of ${U.value} entries`}),T=i=>{r.value.isActive=!0,employeeStore.addEmployee(i).then(e=>{k(e.data.message),r.value.isActive=!1,V()}).catch(e=>{S(e.data.message),r.value.isActive=!1})},F=i=>{r.value.isActive=!0,employeeStore.updateEmployee(i).then(e=>{k(e.data.message),r.value.isActive=!1,V()}).catch(e=>{S(e.data.message),r.value.isActive=!1})},L=i=>{r.value.isActive=!0,employeeStore.deleteEmployee(i).then(e=>{r.value.isActive=!1,k(e.data.message)}).catch(e=>{S(e.data.message),r.value.isActive=!1}),V()};return(i,e)=>{const j=Q("RouterLink");return p(),h("section",null,[a(se,null,{default:n(()=>[a(ae,{"model-value":o(r).isActive,class:"align-center justify-center"},{default:n(()=>[a(z,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),a(le,{cols:"12"},{default:n(()=>[a(oe,{title:"Employee Record"},{default:n(()=>[a(C),a(P,{class:"d-flex flex-wrap py-4 gap-4"},{default:n(()=>[l("div",ce,[a(ie,{modelValue:o(f),"onUpdate:modelValue":e[0]||(e[0]=t=>u(f)?f.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(re),l("div",ve,[l("div",fe,[o(N)?(p(),w(z,{key:0,indeterminate:"",color:"primary"})):(p(),w(ne,{key:1,onInput:e[1]||(e[1]=t=>B.value=!0),ref:"searchField",modelValue:o(_),"onUpdate:modelValue":e[2]||(e[2]=t=>u(_)?_.value=t:null),placeholder:"Search",density:"compact"},null,8,["modelValue"]))]),a(E,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:n(()=>[D(" Export ")]),_:1}),a(E,{"prepend-icon":"tabler-plus",onClick:e[3]||(e[3]=t=>g.value=!0)},{default:n(()=>[D(" New Employee ")]),_:1})])]),_:1}),a(C),a(me,{class:"text-no-wrap"},{default:n(()=>[ye,l("tbody",null,[(p(!0),h(Z,null,G(o(y),t=>(p(),h("tr",{key:t.id,style:{height:"3.75rem"}},[l("td",null,v(t.id),1),l("td",null,[l("div",Ve,[a(de,{variant:"tonal",class:"me-3",size:"38"},{default:n(()=>[t.avatar?(p(),w(pe,{key:0,src:t.avatar},null,8,["src"])):(p(),h("span",_e,v(t.name.toUpperCase().charAt(0)),1))]),_:2},1024),l("div",ge,[l("h6",xe,[a(j,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium user-list-name"},{default:n(()=>[D(v(t.name)+" "+v(t.surname),1)]),_:2},1032,["to"])]),l("span",he,"@"+v(t.email),1)])])]),l("td",we,[a(E,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"apps-attendance-employees-record-id",params:{id:t.id,attendanceId:Number(o(I).params.id)}}},{default:n(()=>[a(O,{size:"22",icon:"tabler-eye"})]),_:2},1032,["to"]),a(E,{icon:"",size:"x-small",color:"default",variant:"text"},{default:n(()=>[a(O,{size:"22",icon:"tabler-dots-vertical"})]),_:1})])]))),128))]),J(l("tfoot",null,be,512),[[K,!o(y).length]])]),_:1}),a(C),a(P,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:n(()=>[l("span",Ae,v(o(R)),1),a(ue,{modelValue:o(m),"onUpdate:modelValue":e[4]||(e[4]=t=>u(m)?m.value=t:null),size:"small","total-visible":5,length:o(c)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),a(X,{isDrawerOpen:o(g),"onUpdate:isDrawerOpen":e[5]||(e[5]=t=>u(g)?g.value=t:null),onEmployeeData:T},null,8,["isDrawerOpen"]),a(Y,{isDrawerOpen:o(b),"onUpdate:isDrawerOpen":e[6]||(e[6]=t=>u(b)?b.value=t:null),employee:o(d),"onUpdate:employee":e[7]||(e[7]=t=>u(d)?d.value=t:d=t),onEmployeeData:F},null,8,["isDrawerOpen","employee"]),o(x)?(p(),w(ee,{key:0,isDialogVisible:o(x),"onUpdate:isDialogVisible":e[8]||(e[8]=t=>u(x)?x.value=t:null),employee:o(d),"onUpdate:employee":e[9]||(e[9]=t=>u(d)?d.value=t:d=t),onEmployeeData:L},null,8,["isDialogVisible","employee"])):W("",!0)])}}};export{_t as default};
