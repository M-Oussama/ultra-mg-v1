import{k as r,bd as j,j as F,r as M,o as P,b as U,w as t,p as e,q as a,m as n,V as O,v,x as q,be as E,D as V,E as b,bf as h,a1 as J}from"./main.c6a9724c.js";import{u as $}from"./useAppAbility.6f34dce9.js";import{_ as z}from"./AuthProvider.47cc1346.js";import{u as x,m as G,a as W}from"./useGenerateImageVariant.ef60bfb9.js";import{r as y,e as H}from"./validators.330a354f.js";import{a as K,b as Q,c as X,d as Y}from"./auth-v2-login-illustration-light.bdce81f1.js";import{a as Z,V as ee}from"./VBtn.e7c07512.js";import{a as ae}from"./VOverlay.01171e20.js";import{V as w}from"./VImg.ed211343.js";import{a as i,V as k}from"./VRow.ecaee667.js";import{V as te,c as I}from"./VCard.f64c0a01.js";import{V as L}from"./VTextField.0d61a0d0.js";import{V as se}from"./VCheckbox.87002eb2.js";import{V as A}from"./VDivider.8e59889f.js";import{V as oe}from"./VForm.821cf149.js";import"./index.b522f886.js";import"./router.8721ce32.js";import"./position.262cc80a.js";import"./lazy.55ef32ef.js";import"./easing.36b781ab.js";import"./VAvatar.6f1bab4f.js";/* empty css                   */import"./VField.d7dc540f.js";import"./index.cb3fbeaa.js";import"./VInput.ab935992.js";import"./forwardRefs.c003b6b8.js";import"./VCounter.92e789e6.js";import"./VCheckboxBtn.a2176904.js";import"./VSelectionControl.3b08e1e2.js";const le={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},re={class:"d-flex align-center justify-center w-100 h-100"},ie={class:"text-h5 font-weight-semibold mb-1"},ne=n("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),me={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},ue=n("span",{class:"mx-4"},"or",-1),de={__name:"login",setup(ce){const C=x(Y,X,Q,K,!0),S=x(W,G),m=r(!1);j();const D=F(),R=$(),u=r({email:void 0,password:void 0}),d=r({isActive:!1}),_=r(),c=r(""),p=r(""),f=r(!1),T=()=>{d.value.isActive=!0,J.post("/api/auth/login",{email:c.value,password:p.value,device_name:"iphone"}).then(l=>{const{accessToken:s,userData:g,userAbilities:o}=l.data;localStorage.setItem("userAbilities",JSON.stringify(o)),R.update(o),localStorage.setItem("userData",JSON.stringify(g)),localStorage.setItem("accessToken",s),d.value.isActive=!1,D.replace("/")}).catch(l=>{d.value.isActive=!1,u.value.email=l.response.data.error,console.log(l.response.data.error)})},B=()=>{var l;(l=_.value)==null||l.validate().then(({valid:s})=>{s&&T()})},N=()=>{u.value.email=void 0};return(l,s)=>{const g=M("RouterLink");return P(),U(k,{"no-gutters":"",class:"auth-wrapper"},{default:t(()=>[e(ae,{"model-value":a(d).isActive,class:"align-center justify-center"},{default:t(()=>[e(Z,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),e(i,{lg:"8",class:"d-none d-lg-flex"},{default:t(()=>[n("div",le,[n("div",re,[e(w,{"max-width":"505",src:a(C),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(w,{src:a(S),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(i,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:t(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[e(I,null,{default:t(()=>[e(a(O),{nodes:a(v).app.logo,class:"mb-6"},null,8,["nodes"]),n("h5",ie," Welcome to "+q(a(v).app.title)+"! \u{1F44B}\u{1F3FB} ",1),ne]),_:1}),e(I,null,{default:t(()=>[e(a(oe),{ref_key:"refVForm",ref:_,onSubmit:E(B,["prevent"])},{default:t(()=>[e(k,null,{default:t(()=>[e(i,{cols:"12"},{default:t(()=>[e(L,{modelValue:a(c),"onUpdate:modelValue":[s[0]||(s[0]=o=>V(c)?c.value=o:null),N],label:"Email",type:"email",rules:[a(y),a(H)],"error-messages":a(u).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(L,{modelValue:a(p),"onUpdate:modelValue":s[1]||(s[1]=o=>V(p)?p.value=o:null),label:"Password",rules:[a(y)],type:a(m)?"text":"password","error-messages":a(u).password,"append-inner-icon":a(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=o=>m.value=!a(m))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),n("div",me,[e(se,{modelValue:a(f),"onUpdate:modelValue":s[3]||(s[3]=o=>V(f)?f.value=o:null),label:"Remember me"},null,8,["modelValue"]),e(g,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:t(()=>[b(" Forgot Password? ")]),_:1})]),e(ee,{block:"",type:"submit"},{default:t(()=>[b(" Login ")]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(A),ue,e(A)]),_:1}),e(i,{cols:"12",class:"text-center"},{default:t(()=>[e(z)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}};typeof h=="function"&&h(de);export{de as default};
