import{k as u,o as S,b as B,w as l,m as b,p as e,C as O,q as a,P as U,D as x,be as C,E as V,Z as P}from"./main.8e3d834c.js";import{u as q}from"./useSaleStore.b8524038.js";import{s as A}from"./successMiddleware.60712f12.js";import{e as y}from"./errorsMiddleware.e88e793d.js";/* empty css                        */import{V as M}from"./VSpacer.8cabb308.js";import{V as m}from"./VBtn.d45a6048.js";import{V as F,c as E}from"./VCard.23579ef6.js";import{V as N}from"./VForm.b347f109.js";import{V as z,a as i}from"./VRow.45fdd78b.js";import{V as k}from"./VAutocomplete.bf2fd8ca.js";import{V as c}from"./VTextField.810b1049.js";import{V as L}from"./VNavigationDrawer.d95beabf.js";const $={class:"d-flex align-center pa-6 pb-1"},T=b("h6",{class:"text-h6"}," Add Benefit ",-1),oe={__name:"AddNewBenefitDrawer",props:{isDrawerOpen:{type:null,required:!0},data:{type:null,required:!0},months:{type:null,required:!0},years:{type:null,required:!0},loading:{type:null,required:!0}},emits:["benefitData"],setup(_,{emit:h}){const n=_,d=u(!1),v=u(),g=q(),t=u({month:null,year:null,electricity:0,other_charges:0,employee_salary:0}),w=u();u({id:-1});const p=()=>{n.isDrawerOpen.open=!1},D=()=>{t.value.month===null||t.value.year===null?(t.value.client.month===null&&y("Month not selected","Oops! Looks like you forgot to select a Month. Kindly pick at least one month to proceed"),t.value.client.year===null&&y("Month not selected","Oops! Looks like you forgot to select a Year. Kindly pick at least one year to proceed")):(f(),n.loading.isActive=!0,g.storeBenefit(t.value).then(s=>{n.loading.isActive=!1,t.value.month=0,t.value.year=0,A("Benefit created Successfully"),h("benefitData",{data:w})}).catch(s=>{console.log(s),n.loading.isActive=!1,y("Error Occured","Oops! Looks like the Benefit has not been submited ")}))},f=s=>{console.log(s),n.isDrawerOpen.open=!1};return(s,o)=>(S(),B(L,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":n.isDrawerOpen.open,"onUpdate:modelValue":f},{default:l(()=>[b("div",$,[T,e(M),e(m,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:p},{default:l(()=>[e(O,{size:"18",icon:"tabler-x"})]),_:1})]),e(a(U),{options:{wheelPropagation:!1}},{default:l(()=>[e(F,{flat:""},{default:l(()=>[e(E,null,{default:l(()=>[e(N,{ref_key:"refForm",ref:v,modelValue:a(d),"onUpdate:modelValue":o[5]||(o[5]=r=>x(d)?d.value=r:null),onSubmit:C(D,["prevent"])},{default:l(()=>[e(z,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(k,{modelValue:a(t).month,"onUpdate:modelValue":o[0]||(o[0]=r=>a(t).month=r),items:n.months,"item-value":"id","item-title":"name",label:"Month"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(k,{modelValue:a(t).year,"onUpdate:modelValue":o[1]||(o[1]=r=>a(t).year=r),items:n.years,label:"Year"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(c,{modelValue:a(t).electricity,"onUpdate:modelValue":o[2]||(o[2]=r=>a(t).electricity=r),type:"number",label:"Electricity"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(c,{modelValue:a(t).employee_salary,"onUpdate:modelValue":o[3]||(o[3]=r=>a(t).employee_salary=r),type:"number",label:"employee salary"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(c,{modelValue:a(t).other_charges,"onUpdate:modelValue":o[4]||(o[4]=r=>a(t).other_charges=r),type:"number",label:"other charges"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(m,{type:"submit",class:"me-3"},{default:l(()=>[V(" Submit ")]),_:1}),e(m,{type:"reset",variant:"tonal",color:"secondary",onClick:p},{default:l(()=>[V(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},K={class:"d-flex align-center pa-6 pb-1"},R=b("h6",{class:"text-h6"}," Edit Benefit ",-1),ae={__name:"EditBenefitDrawer",props:{isDrawerOpen:{type:null,required:!0},benefit:{type:Object,required:!0},loading:{type:null,required:!0}},emits:["benefitData"],setup(_,{emit:h}){const n=_,d=u(!1),v=u(),g=q(),t=u({month:null,year:null,electricity:0,other_charges:0,employee_salary:0});P(()=>n.benefit,s=>{s&&(t.value={...s})});const w=u();u({id:-1});const p=()=>{n.isDrawerOpen.open=!1},D=()=>{console.log("benefit"),console.log(t.value),f(),n.loading.isActive=!0,g.updateBenefit(t.value).then(s=>{n.loading.isActive=!1,A("Benefit updated Successfully"),h("benefitData",{data:w})}).catch(s=>{console.log(s),n.loading.isActive=!1,y("Error Occured","Oops! Looks like the Benefit has not been submited ")})},f=s=>{console.log(s),n.isDrawerOpen.open=!1};return(s,o)=>(S(),B(L,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":n.isDrawerOpen.open,"onUpdate:modelValue":f},{default:l(()=>[b("div",K,[R,e(M),e(m,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:p},{default:l(()=>[e(O,{size:"18",icon:"tabler-x"})]),_:1})]),e(a(U),{options:{wheelPropagation:!1}},{default:l(()=>[e(F,{flat:""},{default:l(()=>[e(E,null,{default:l(()=>[e(N,{ref_key:"refForm",ref:v,modelValue:a(d),"onUpdate:modelValue":o[3]||(o[3]=r=>x(d)?d.value=r:null),onSubmit:C(D,["prevent"])},{default:l(()=>[e(z,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(c,{modelValue:a(t).electricity,"onUpdate:modelValue":o[0]||(o[0]=r=>a(t).electricity=r),type:"number",label:"Electricity"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(c,{modelValue:a(t).employee_salary,"onUpdate:modelValue":o[1]||(o[1]=r=>a(t).employee_salary=r),type:"number",label:"employee salary"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(c,{modelValue:a(t).other_charges,"onUpdate:modelValue":o[2]||(o[2]=r=>a(t).other_charges=r),type:"number",label:"other charges"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(m,{type:"submit",class:"me-3"},{default:l(()=>[V(" Submit ")]),_:1}),e(m,{type:"reset",variant:"tonal",color:"secondary",onClick:p},{default:l(()=>[V(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}};export{oe as _,ae as a};
