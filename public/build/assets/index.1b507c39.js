import{k as s,bd as le,$ as U,Z as oe,A as se,o as f,c as B,p as t,w as o,q as i,m as l,D as r,b as y,E as m,F as ie,a as ne,x as g,C as v,y as S,H as re,I as de,bf as M}from"./main.ccc6aae0.js";import{_ as ue}from"./DialogCloseBtn.eb9ea561.js";import{u as ce}from"./useVacationStore.d3bd0104.js";import{_ as pe}from"./EditEmployeeAttendanceDrawer.81f4576a.js";import{_ as fe}from"./AddNewVacation.c2311779.js";import{a as me}from"./VOverlay.0ad0cca7.js";import{a as R,V as p}from"./VBtn.7efa8e0f.js";import{a as ve,V as _e}from"./VRow.a17ab33e.js";import{V as j,c as I}from"./VCard.36c7adfd.js";import{V as O}from"./VDivider.09896c6c.js";import{V as xe}from"./VSelect.b041d3dc.js";import{V as Ve}from"./VSpacer.fc3a499d.js";import{V as ge}from"./VTextField.8db2e7e8.js";import{V as he}from"./VTable.484ee967.js";import{V as be}from"./VMenu.01138ff3.js";import{V as we,b as q,a as H}from"./VList.54d6dfac.js";import{V as De}from"./VPagination.ced5ec2a.js";import{V as ye}from"./VDialog.11663ea2.js";import"./AppDateTimePicker.be59b953.js";import"./VField.8b77e1e2.js";import"./index.720d3b34.js";import"./VInput.1586f7cc.js";import"./router.25b57325.js";import"./VImg.e193e870.js";import"./position.ea536dab.js";import"./easing.36b781ab.js";import"./validators.330a354f.js";import"./index.b522f886.js";import"./successMiddleware.53303d8d.js";import"./errorsMiddleware.ca8f0215.js";import"./useAttendanceStore.ca57727c.js";import"./VForm.8ba2a0de.js";import"./forwardRefs.c003b6b8.js";import"./VNavigationDrawer.df836fef.js";import"./ssrBoot.81f110ad.js";import"./lazy.ab6dcefa.js";import"./VAvatar.cb7dc9a5.js";import"./dialog-transition.e2b69798.js";import"./VCheckboxBtn.cfb39e43.js";import"./VSelectionControl.e824dbee.js";import"./VChip.768b9a43.js";/* empty css                   */import"./VCounter.d2fed1b1.js";import"./scopeId.1409e92e.js";const Ce={class:"me-3",style:{width:"80px"}},ke={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ze={style:{width:"9rem"}},Ae=l("thead",null,[l("tr",null,[l("th",{scope:"col"}," ID "),l("th",{scope:"col"}," Start Date "),l("th",{scope:"col"}," End Date "),l("th",{scope:"col"}," Period "),l("th",{scope:"col"}," Position "),l("th",{scope:"col"}," ACTIONS ")])],-1),Ie={class:"d-flex align-center"},Ne={class:"d-flex flex-column"},Ue={class:"text-base"},Be={class:"d-flex align-center"},Se={class:"d-flex flex-column"},Oe={class:"text-base"},Pe={class:"d-flex align-center"},$e={class:"d-flex flex-column"},Ee={class:"text-base"},Te={class:"d-flex align-center"},Le={class:"d-flex flex-column"},Fe={class:"text-base"},Me={class:"text-center",style:{width:"5rem"}},Re=l("tr",null,[l("td",{colspan:"7",class:"text-center"}," No data available ")],-1),je=[Re],qe={class:"text-sm text-disabled"},He={__name:"index",setup(Qe){const Q=ce(),C=s(""),Z=s("Employees"),P=s(!1),d=s({isActive:!0}),G=le(),J=s(!0);s(),s("mahgounoussama23@gmail.com"),s(),s();const h=s(10),u=s(1),_=s(1),$=s(0);let c=s([]),b=s({open:!1}),k=s({open:!1}),w=s({open:!1}),z=s(!1),A=s(!0);const E=()=>{d.value.isActive=!0,Q.fetchListRecord(Number(G.params.id)).then(n=>{c.value=n.data.employees.data,_.value=n.data.totalPage,$.value=n.data.totalVacation,P.value=!1,d.value.isActive=!1,console.log(n)}).catch(n=>{d.value.isActive=!1})};U(E),U(()=>{u.value>_.value&&(u.value=_.value)}),oe(C,()=>{E()}),s(!1);let x=s(null);U(()=>{u.value>_.value&&(u.value=_.value)});const K=se(()=>{const n=c.value.length?(u.value-1)*h.value+1:0,a=c.value.length+(u.value-1)*h.value;return`Showing ${n} to ${a} of ${$.value} entries`}),W=n=>{x.value=n,b.value.open=!0},X=n=>{x.value=n,k.value.open=!0},Y=()=>{w.value.open=!0},ee=()=>{},T=()=>{k.value.open=!1},te=n=>{let a=new Date(n.end_date);n.end_date||(a=new Date);const N=a-new Date(n.start_date),e=Math.floor(N/(1e3*60*60*24)),D=Math.floor(e/365),L=Math.floor(e%365/30),F=e%30;let V="";return D>0&&(V+=("0"+D).slice(-2)+" years, "),L>0&&(V+=("0"+L).slice(-2)+" months, "),F>0&&(V+=("0"+F).slice(-2)+" days"),V=V.replace(/,\s*$/,""),V},ae=n=>{};return(n,a)=>{const N=ue;return f(),B("section",null,[t(_e,null,{default:o(()=>[t(me,{"model-value":i(d).isActive,class:"align-center justify-center"},{default:o(()=>[t(R,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),t(ve,{cols:"12"},{default:o(()=>[t(j,{title:i(Z)},{default:o(()=>[t(O),t(I,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[l("div",Ce,[t(xe,{modelValue:i(h),"onUpdate:modelValue":a[0]||(a[0]=e=>r(h)?h.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(Ve),l("div",ke,[l("div",ze,[i(P)?(f(),y(R,{key:0,indeterminate:"",color:"primary"})):(f(),y(ge,{key:1,onInput:a[1]||(a[1]=e=>J.value=!0),ref:"searchField",modelValue:i(C),"onUpdate:modelValue":a[2]||(a[2]=e=>r(C)?C.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"]))]),t(p,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:o(()=>[m(" Export ")]),_:1}),t(p,{color:"primary","prepend-icon":"tabler-plus",onClick:a[3]||(a[3]=e=>Y())},{default:o(()=>[m(" New Vacation ")]),_:1})])]),_:1}),t(O),t(he,{class:"text-no-wrap"},{default:o(()=>[Ae,l("tbody",null,[(f(!0),B(ie,null,ne(i(c),e=>(f(),B("tr",{key:e.id,style:{height:"3.75rem"}},[l("td",null,g(e.id),1),l("td",null,[l("div",Ie,[l("div",Ne,[l("h6",Ue,g(e.start_date),1)])])]),l("td",null,[l("div",Be,[l("div",Se,[l("h6",Oe,g(e.end_date),1)])])]),l("td",null,[l("div",Pe,[l("div",$e,[l("h6",Ee,g(te(e)),1)])])]),l("td",null,[l("div",Te,[l("div",Le,[l("h6",Fe,g(e.position),1)])])]),l("td",Me,[e.last?(f(),y(p,{key:0,icon:"",size:"x-small",color:"default",variant:"text",onClick:D=>W(e)},{default:o(()=>[t(v,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"])):S("",!0),t(p,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"apps-employee-vacation-id",params:{id:e.id}}},{default:o(()=>[t(v,{size:"22",icon:"tabler-user-check"})]),_:2},1032,["to"]),t(p,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[t(v,{size:"22",icon:"tabler-trash",onClick:D=>X(e)},null,8,["onClick"])]),_:2},1024),t(p,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[t(v,{size:"22",icon:"tabler-send",onClick:D=>ae(e)},null,8,["onClick"])]),_:2},1024),t(p,{icon:"",variant:"text",color:"default",size:"x-small"},{default:o(()=>[t(v,{size:22,icon:"tabler-dots-vertical"}),t(be,{activator:"parent"},{default:o(()=>[t(we,{density:"compact"},{default:o(()=>[e.BC?(f(),y(H,{key:0,value:"BC",href:e.BC},{prepend:o(()=>[t(v,{size:"22",class:"me-3",icon:"tabler-download"})]),default:o(()=>[t(q,null,{default:o(()=>[m("Birth Certificate")]),_:1})]),_:2},1032,["href"])):S("",!0),e.NC?(f(),y(H,{key:1,value:"NC",href:e.NC},{prepend:o(()=>[t(v,{size:"22",class:"me-3",icon:"tabler-download"})]),default:o(()=>[t(q,null,{default:o(()=>[m("National Card")]),_:1})]),_:2},1032,["href"])):S("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),re(l("tfoot",null,je,512),[[de,!i(c).length]])]),_:1}),t(O),t(I,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:o(()=>[l("span",qe,g(i(K)),1),t(De,{modelValue:i(u),"onUpdate:modelValue":a[4]||(a[4]=e=>r(u)?u.value=e:null),size:"small","total-visible":5,length:i(_)},null,8,["modelValue","length"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}),t(pe,{isDrawerOpen:i(b),"onUpdate:isDrawerOpen":a[5]||(a[5]=e=>r(b)?b.value=e:b=e),employee:i(x),"onUpdate:employee":a[6]||(a[6]=e=>r(x)?x.value=e:x=e),"disable-end-date":i(z),"onUpdate:disable-end-date":a[7]||(a[7]=e=>r(z)?z.value=e:z=e),loading:i(d),"onUpdate:loading":a[8]||(a[8]=e=>r(d)?d.value=e:null),"disable-start-date":i(A),"onUpdate:disable-start-date":a[9]||(a[9]=e=>r(A)?A.value=e:A=e)},null,8,["isDrawerOpen","employee","disable-end-date","loading","disable-start-date"]),t(fe,{isDrawerOpen:i(w),"onUpdate:isDrawerOpen":a[10]||(a[10]=e=>r(w)?w.value=e:w=e),employees:i(c),"onUpdate:employees":a[11]||(a[11]=e=>r(c)?c.value=e:c=e),loading:i(d),"onUpdate:loading":a[12]||(a[12]=e=>r(d)?d.value=e:null)},null,8,["isDrawerOpen","employees","loading"]),t(ye,{modelValue:i(k).open,"onUpdate:modelValue":a[15]||(a[15]=e=>i(k).open=e),persistent:"",class:"v-dialog-sm"},{default:o(()=>[t(N,{onClick:a[13]||(a[13]=e=>T())}),t(j,{title:"Confirmation"},{default:o(()=>[t(I,null,{default:o(()=>[m(" Are you sure you want to delete this record ? ")]),_:1}),t(I,{class:"d-flex justify-end gap-3 flex-wrap"},{default:o(()=>[t(p,{color:"secondary",variant:"tonal",onClick:a[14]||(a[14]=e=>T())},{default:o(()=>[m(" Disagree ")]),_:1}),t(p,{onClick:ee},{default:o(()=>[m(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};typeof M=="function"&&M(He);export{He as default};
