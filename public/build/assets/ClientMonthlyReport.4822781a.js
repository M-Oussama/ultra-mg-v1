import{k as s,o as O,b as I,w as t,m as R,p as e,C as W,q as r,P as B,D as v,be as M,E as D,ay as z,Z as J,bc as Z,a1 as C,z as G,A as K,by as U,c as Q,F as ee,a as le,x as ae}from"./main.3e4fe580.js";import{r as A,e as q}from"./validators.330a354f.js";import{V as E}from"./VSpacer.ff002d0c.js";import{V as k}from"./VBtn.78fdee4b.js";import{V as L,c as $}from"./VCard.6ecf732f.js";import{V as Y}from"./VForm.9ee55331.js";import{V as H,a as y}from"./VRow.04916300.js";import{V as x}from"./VTextField.8a7f8c82.js";import{V as X}from"./VAutocomplete.bd291683.js";import{V as j}from"./VNavigationDrawer.b7bda0b7.js";import{_ as te}from"./DialogCloseBtn.156c971b.js";import{V as oe}from"./VDialog.8856b7dc.js";import{V as se}from"./vue3-apexcharts.common.016d50a6.js";import{V as re}from"./VMenu.a8ae5610.js";import{V as ne,a as ie,b as ue}from"./VList.763f3acf.js";const de={class:"d-flex align-center pa-6 pb-1"},pe=R("h6",{class:"text-h6"}," Add Client ",-1),Ae={__name:"AddNewClientDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","clientData"],setup(f,{emit:p}){const c=f,h=s(!1),u=s(),g=s(""),d=s(""),l=s(""),m=s(""),b=s(""),V=s(""),n=s(""),_=s(""),S=s("");s(""),s(""),s("");const N=s(null);s(),s(),s(!1),s(!1),s(),s(),s();const w=()=>{p("update:isDrawerOpen",!1),z(()=>{var i,a;(i=u.value)==null||i.reset(),(a=u.value)==null||a.resetValidation()})},T=()=>{var i;(i=u.value)==null||i.validate().then(({valid:a})=>{a&&(p("clientData",{name:g.value,surname:d.value,email:l.value,address:m.value,phone:b.value,NRC:V.value,NIS:_.value,NIF:n.value,NART:S.value,city_id:N.value}),p("update:isDrawerOpen",!1),z(()=>{var o,F;(o=u.value)==null||o.reset(),(F=u.value)==null||F.resetValidation()}))})},P=i=>{p("update:z",i)};return(i,a)=>(O(),I(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":c.isDrawerOpen,"onUpdate:modelValue":P},{default:t(()=>[R("div",de,[pe,e(E),e(k,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:w},{default:t(()=>[e(W,{size:"18",icon:"tabler-x"})]),_:1})]),e(r(B),{options:{wheelPropagation:!1}},{default:t(()=>[e(L,{flat:""},{default:t(()=>[e($,null,{default:t(()=>[e(Y,{ref_key:"refForm",ref:u,modelValue:r(h),"onUpdate:modelValue":a[10]||(a[10]=o=>v(h)?h.value=o:null),onSubmit:M(T,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(g),"onUpdate:modelValue":a[0]||(a[0]=o=>v(g)?g.value=o:null),rules:[r(A)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(d),"onUpdate:modelValue":a[1]||(a[1]=o=>v(d)?d.value=o:null),label:"Surname"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(l),"onUpdate:modelValue":a[2]||(a[2]=o=>v(l)?l.value=o:null),rules:[r(q)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(X,{clearable:"",modelValue:r(N),"onUpdate:modelValue":a[3]||(a[3]=o=>v(N)?N.value=o:null),items:c.cities,"item-value":"id","item-title":"name",label:"City",rules:[r(A)]},null,8,["modelValue","items","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(m),"onUpdate:modelValue":a[4]||(a[4]=o=>v(m)?m.value=o:null),rules:[r(A)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(b),"onUpdate:modelValue":a[5]||(a[5]=o=>v(b)?b.value=o:null),label:"Phone"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(V),"onUpdate:modelValue":a[6]||(a[6]=o=>v(V)?V.value=o:null),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(n),"onUpdate:modelValue":a[7]||(a[7]=o=>v(n)?n.value=o:null),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(_),"onUpdate:modelValue":a[8]||(a[8]=o=>v(_)?_.value=o:null),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(S),"onUpdate:modelValue":a[9]||(a[9]=o=>v(S)?S.value=o:null),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(k,{type:"submit",class:"me-3"},{default:t(()=>[D(" Submit ")]),_:1}),e(k,{type:"reset",variant:"tonal",color:"secondary",onClick:w},{default:t(()=>[D(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},me={class:"d-flex align-center pa-6 pb-1"},fe=R("h6",{class:"text-h6"}," Edit Client ",-1),Fe={__name:"EditClientDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},client:{type:Object,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","clientData"],setup(f,{emit:p}){const c=f;J(()=>c.client,i=>{console.log(i),i&&(g.value=i.id||0,d.value=i.name||"",l.value=i.surname||"",m.value=i.email||"",b.value=i.address||"",V.value=i.phone||"",n.value=i.NRC||"",_.value=i.NIF||"",N.value=i.NART||"",S.value=i.NIS||"",w.value=i.city_id||"")});const h=s(!1),u=s(),g=s(),d=s(""),l=s(""),m=s(""),b=s(""),V=s(""),n=s(""),_=s(""),S=s(""),N=s(""),w=s(null);s(""),s(""),s(""),s(),s(),s(!1),s(!1),s(!1),s(),s(),s();const T=()=>{p("update:isDrawerOpen",!1),z(()=>{var i,a;(i=u.value)==null||i.reset(),(a=u.value)==null||a.resetValidation()})},P=()=>{var i;(i=u.value)==null||i.validate().then(({valid:a})=>{a&&(p("clientData",{id:g.value,name:d.value,surname:l.value,email:m.value,address:b.value,phone:V.value,NRC:n.value,NIS:S.value,NIF:_.value,NART:N.value}),p("update:isDrawerOpen",!1),z(()=>{var o,F;(o=u.value)==null||o.reset(),(F=u.value)==null||F.resetValidation()}))})};return(i,a)=>(O(),I(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":c.isDrawerOpen},{default:t(()=>[R("div",me,[fe,e(E),e(k,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:T},{default:t(()=>[e(W,{size:"18",icon:"tabler-x"})]),_:1})]),e(r(B),{options:{wheelPropagation:!1}},{default:t(()=>[e(L,{flat:""},{default:t(()=>[e($,null,{default:t(()=>[e(Y,{ref_key:"refForm",ref:u,modelValue:r(h),"onUpdate:modelValue":a[10]||(a[10]=o=>v(h)?h.value=o:null),onSubmit:M(P,["prevent"])},{default:t(()=>[e(H,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(d),"onUpdate:modelValue":a[0]||(a[0]=o=>v(d)?d.value=o:null),rules:[r(A)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(l),"onUpdate:modelValue":a[1]||(a[1]=o=>v(l)?l.value=o:null),label:"Surname"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(m),"onUpdate:modelValue":a[2]||(a[2]=o=>v(m)?m.value=o:null),rules:[r(q)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(X,{clearable:"",modelValue:r(w),"onUpdate:modelValue":a[3]||(a[3]=o=>v(w)?w.value=o:null),items:c.cities,"item-value":"id","item-title":"name",label:"City",rules:[r(A)]},null,8,["modelValue","items","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(b),"onUpdate:modelValue":a[4]||(a[4]=o=>v(b)?b.value=o:null),rules:[r(A)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(V),"onUpdate:modelValue":a[5]||(a[5]=o=>v(V)?V.value=o:null),label:"Phone"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(n),"onUpdate:modelValue":a[6]||(a[6]=o=>v(n)?n.value=o:null),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(_),"onUpdate:modelValue":a[7]||(a[7]=o=>v(_)?_.value=o:null),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(S),"onUpdate:modelValue":a[8]||(a[8]=o=>v(S)?S.value=o:null),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:r(N),"onUpdate:modelValue":a[9]||(a[9]=o=>v(N)?N.value=o:null),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12"},{default:t(()=>[e(k,{type:"submit",class:"me-3"},{default:t(()=>[D(" Submit ")]),_:1}),e(k,{type:"reset",variant:"tonal",color:"secondary",onClick:T},{default:t(()=>[D(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ie={__name:"ConfirmationDialog",props:{isDialogVisible:{type:Boolean,required:!0},client:{type:Object,required:!0}},emits:["update:isDrawerOpen","userData"],setup(f,{emit:p}){const c=f,h=s(),u=()=>{p("update:isDialogVisible",!1)};J(()=>c.user,d=>{d&&(h.value=d.id||0)});const g=()=>{p("clientData",{id:c.client.id}),p("update:isDialogVisible",!1)};return(d,l)=>{const m=te;return O(),I(oe,{modelValue:c.isDialogVisible,"onUpdate:modelValue":l[2]||(l[2]=b=>c.isDialogVisible=b),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(m,{onClick:l[0]||(l[0]=b=>u())}),e(L,{title:"Confirmation"},{default:t(()=>[e($,null,{default:t(()=>[D(" Are you sure you want to delete this client ? ")]),_:1}),e($,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(k,{color:"secondary",variant:"tonal",onClick:l[1]||(l[1]=b=>p("update:isDialogVisible",!1))},{default:t(()=>[D(" Disagree ")]),_:1}),e(k,{onClick:g},{default:t(()=>[D(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},$e=Z("ClientListStore",{actions:{fetchClients(f){return C.get("/api/clients/list",{params:f})},addClient(f){const{name:p,surname:c,email:h,address:u,phone:g,NRC:d,NIF:l,NIS:m,NART:b,city_id:V}=f;return new Promise((n,_)=>{C.post("/api/clients/store",{name:p,surname:c,email:h,address:u,phone:g,NRC:d,NIF:l,NART:b,NIS:m,city_id:V}).then(S=>n(S)).catch(S=>_(S))})},updateClient(f){const{id:p,name:c,surname:h,email:u,address:g,phone:d,NRC:l,NIF:m,NIS:b,NART:V,city_id:n}=f;return new Promise((_,S)=>{let N={name:c,surname:h,email:u,address:g,phone:d,NRC:l,NIF:m,NART:V,NIS:b,city_id:n};C.post("/api/clients/update/"+p,N).then(w=>_(w)).catch(w=>S(w))})},fetchClient(f){return new Promise((p,c)=>{C.get(`/apps/clients/${f}`).then(h=>p(h)).catch(h=>c(h))})},deleteClient(f){console.log(f);const{id:p}=f;return new Promise((c,h)=>{C.delete("/api/clients/delete/"+p).then(u=>c(u)).catch(u=>h(u))})},fetchClientLog(f){return C.post("/api/clients/log",{params:f})},exportAllLog(f){return C.post("/api/clients/log/generate",{params:f})},getLogList(f){return C.get("/api/client-log/"+f+"/download",{responseType:"blob"})}}}),ce={class:"mt-n4 me-n2"},Re={__name:"ClientMonthlyReport",setup(f){const p=G(),c=s(0),h=s(),u=K(()=>{const g=p.current.value.colors,d=p.current.value.variables,l=`rgba(${U(g.primary)},${d["dragged-opacity"]})`,m=`rgba(${U(g["on-background"])},${d["high-emphasis-opacity"]})`,b=`rgba(${U(String(d["border-color"]))},${d["border-opacity"]})`,V=`rgba(${U(g["on-surface"])},${d["disabled-opacity"]})`;return[{title:"Orders",icon:"tabler-shopping-cart",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,g.primary,l,l,l,l,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},yaxis:{labels:{show:!1}},grid:{padding:{right:0,left:-20}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}}}}]},series:[{data:[28,10,45,38,15,30,35,30,8]}]},{title:"Sales",icon:"tabler-chart-bar",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,l,l,g.primary,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},grid:{padding:{right:0}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},yaxis:{labels:{show:!1}}}}]},series:[{data:[35,25,15,40,42,25,48,8,30]}]},{title:"Profit",icon:"tabler-currency-dollar",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,g.primary,l,l,l,l],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},grid:{padding:{right:0}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},yaxis:{labels:{show:!1}}}}]},series:[{data:[10,22,27,33,42,32,27,22,8]}]},{title:"Income",icon:"tabler-chart-pie-2",chartOptions:{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"10%",startingShape:"rounded",borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:[l,l,l,l,l,l,l,l,g.primary],dataLabels:{enabled:!0,formatter(n){return`${n}k`},offsetY:-25,style:{fontSize:"15px",colors:[m],fontWeight:"600",fontFamily:"Public Sans"}},legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],axisBorder:{show:!0,color:b},axisTicks:{show:!1},labels:{style:{colors:V,fontSize:"14px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter(n){return`${parseInt(n/1)}k`},style:{fontSize:"14px",colors:V,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"10%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"10%"}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}},grid:{padding:{right:0}},yaxis:{labels:{show:!1}}}}]},series:[{data:[5,9,12,18,20,25,30,36,48]}]}]});return(g,d)=>(O(),I(L,{title:"Earning Reports",subtitle:"Yearly Earnings Overview"},{append:t(()=>[R("div",ce,[e(k,{icon:"",size:"x-small",variant:"plain",color:"default"},{default:t(()=>[e(W,{size:"22",icon:"tabler-dots-vertical"}),e(re,{activator:"parent"},{default:t(()=>[e(ne,null,{default:t(()=>[(O(),Q(ee,null,le(["View More","Delete"],(l,m)=>e(ie,{key:m,value:m},{default:t(()=>[e(ue,null,{default:t(()=>[D(ae(l),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})])]),default:t(()=>[e($,null,{default:t(()=>[(O(),I(r(se),{ref_key:"refVueApexChart",ref:h,key:r(c),options:r(u)[Number(r(c))].chartOptions,series:r(u)[Number(r(c))].series,class:"mt-3"},null,8,["options","series"]))]),_:1})]),_:1}))}};export{Re as _,Ae as a,Fe as b,Ie as c,$e as u};
