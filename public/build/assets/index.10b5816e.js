import{k as r,$ as P,A as O,r as R,q as n,o as p,b as z,w as l,p as e,m as t,D as V,E as f,C as d,c as y,a as U,x as i,O as j,F as q,H,I as J,y as M,bf as k}from"./main.e6f2226b.js";import{a as Q}from"./formatters.4acf44a4.js";import{u as Y}from"./useCertifyInvoiceListStore.6a8ce5f1.js";import{a as Z,V as x}from"./VBtn.8ee7d1bc.js";import{a as G}from"./VOverlay.6f5b1171.js";import{V as C}from"./VSelect.2e98f326.js";import{V as A}from"./VSpacer.5af32ac4.js";import{V as K}from"./VTextField.8783cc1b.js";import{c as T,V as W}from"./VCard.98fdd3d2.js";import{V as L}from"./VDivider.3beb977f.js";import{V as X}from"./VTooltip.a413bf72.js";import{V as N}from"./VAvatar.bf7ae53a.js";import{V as ee}from"./VImg.37abf546.js";import{V as te}from"./VMenu.319a5e50.js";import{V as ae,a as w,b as I}from"./VList.2ba046ce.js";import{V as le}from"./VTable.be0f615e.js";import{V as oe}from"./VPagination.5d4e2824.js";import"./index.b522f886.js";import"./router.5ba86b57.js";import"./position.00c850f0.js";import"./lazy.e5202e15.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./dialog-transition.f250e308.js";import"./VCheckboxBtn.b0823098.js";import"./VSelectionControl.14a64459.js";import"./VInput.8559a63c.js";import"./index.96305a7f.js";import"./VChip.93584157.js";/* empty css                   */import"./VField.0c7bfcf3.js";import"./VCounter.57b6c0d3.js";import"./scopeId.f937809a.js";const se={class:"d-flex align-center",style:{width:"135px"}},ie=t("span",{class:"text-no-wrap me-3"},"Show:",-1),ne={class:"me-3"},re={class:"d-flex align-center flex-wrap gap-4"},ce={class:"invoice-list-filter"},de={class:"invoice-list-filter"},ue={class:"text-uppercase"},me=t("th",{scope:"col"}," #ID ",-1),pe=t("th",{scope:"col"}," #FAC ",-1),fe={scope:"col",class:"text-center"},_e=t("th",{scope:"col"}," CLIENT ",-1),ve=t("th",{scope:"col",class:"text-center"}," TOTAL ",-1),he=t("th",{scope:"col"}," Issued Date ",-1),Ve=t("th",{scope:"col"}," ACTIONS ",-1),xe={class:"text-center"},ge={class:"mb-0"},be={class:"mb-0"},ye={class:"mb-0"},we={class:"d-flex align-center"},Ie={key:1},De={class:"d-flex flex-column"},Se={class:"text-base font-weight-medium mb-0"},Pe={class:"text-disabled text-sm"},ze={class:"text-center"},ke={style:{width:"8rem"}},Ce=t("tr",null,[t("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),Ae=[Ce],Te={class:"text-sm text-disabled"},Le={__name:"index",setup(Ne){const F=Y(),_=r(""),v=r(),u=r(10),c=r(1),h=r(1),D=r(0),m=r([]),S=r([]);P(()=>{F.fetchCertifyInvoices({searchValue:_.value,status:v.value,perPage:u.value,currentPage:c.value}).then(o=>{b.value.isActive=!1,m.value=o.data.invoices.data,h.value=o.data.totalPage,D.value=o.data.totalInvoices}).catch(o=>{b.value.isActive=!1,console.log(o)})}),P(()=>{c.value>h.value&&(c.value=h.value)});const B=O(()=>{const o=m.value.length?(c.value-1)*u.value+1:0,s=m.value.length+(c.value-1)*u.value;return`Showing ${o} to ${s} of ${D.value} entries`}),g=o=>o==="Partial Payment"?{variant:"success",icon:"tabler-circle-half-2"}:o==="Paid"?{variant:"warning",icon:"tabler-chart-pie"}:o==="Downloaded"?{variant:"info",icon:"tabler-arrow-down-circle"}:o==="Draft"?{variant:"primary",icon:"tabler-device-floppy"}:o==="Sent"?{variant:"secondary",icon:"tabler-circle-check"}:o==="Past Due"?{variant:"error",icon:"tabler-alert-circle"}:{variant:"secondary",icon:"tabler-x"},b=r({isActive:!0});return(o,s)=>{const $=R("RouterLink");return n(m)?(p(),z(W,{key:0,id:"invoice-list"},{default:l(()=>[e(G,{"model-value":n(b).isActive,class:"align-center justify-center"},{default:l(()=>[e(Z,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),e(T,{class:"d-flex align-center flex-wrap gap-4"},{default:l(()=>[t("div",se,[ie,e(C,{modelValue:n(u),"onUpdate:modelValue":s[0]||(s[0]=a=>V(u)?u.value=a:null),density:"compact",items:[10,20,30,50,100]},null,8,["modelValue"])]),t("div",ne,[e(x,{"prepend-icon":"tabler-plus",to:{name:"apps-certifyInvoice-add"}},{default:l(()=>[f(" Create invoice ")]),_:1})]),e(A),t("div",re,[t("div",ce,[e(K,{modelValue:n(_),"onUpdate:modelValue":s[1]||(s[1]=a=>V(_)?_.value=a:null),placeholder:"Search Invoice",density:"compact"},null,8,["modelValue"])]),t("div",de,[e(C,{modelValue:n(v),"onUpdate:modelValue":s[2]||(s[2]=a=>V(v)?v.value=a:null),label:"Select Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),e(L),e(le,{class:"text-no-wrap invoice-list-table"},{default:l(()=>[t("thead",ue,[t("tr",null,[me,pe,t("th",fe,[e(d,{icon:"tabler-trending-up"})]),_e,ve,he,Ve])]),t("tbody",null,[(p(!0),y(q,null,U(n(m),a=>(p(),y("tr",{key:a.id,style:{height:"3.75rem"}},[t("td",null,[e($,{to:{name:"apps-certifyInvoice-preview-id",params:{id:a.id}}},{default:l(()=>[f(" #"+i(a.id),1)]),_:2},1032,["to"])]),t("td",null," FAJ/"+i(new Date(a.date).getFullYear())+"/"+i(a.id),1),t("td",xe,[e(X,null,{activator:l(({props:E})=>[e(N,j({size:30},E,{color:g(a.invoiceStatus).variant,variant:"tonal"}),{default:l(()=>[e(d,{size:20,icon:g(a.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:l(()=>[t("p",ge,i(a.invoiceStatus),1),t("p",be," Balance: "+i(a.balance),1),t("p",ye," Due date: "+i(a.dueDate),1)]),_:2},1024)]),t("td",null,[t("div",we,[e(N,{size:"34",color:g(a.invoiceStatus).variant,variant:"tonal",class:"me-3"},{default:l(()=>[a.avatar?(p(),z(ee,{key:0,src:a.avatar},null,8,["src"])):(p(),y("span",Ie,i(n(Q)(a.client.name)),1))]),_:2},1032,["color"]),t("div",De,[t("h6",Se,i(a.client.name),1),t("span",Pe,i(a.client.email),1)])])]),t("td",ze,i(a.amount.toFixed(2))+" DZD ",1),t("td",null,i(a.date),1),t("td",ke,[e(x,{icon:"",variant:"text",color:"default",size:"x-small"},{default:l(()=>[e(d,{icon:"tabler-mail",size:22})]),_:1}),e(x,{icon:"",variant:"text",color:"default",size:"x-small",to:{name:"apps-certifyInvoice-preview-id",params:{id:a.id}}},{default:l(()=>[e(d,{size:22,icon:"tabler-eye"})]),_:2},1032,["to"]),e(x,{icon:"",variant:"text",color:"default",size:"x-small"},{default:l(()=>[e(d,{size:22,icon:"tabler-dots-vertical"}),e(te,{activator:"parent"},{default:l(()=>[e(ae,null,{default:l(()=>[e(w,{value:"download"},{prepend:l(()=>[e(d,{size:"24",class:"me-3",icon:"tabler-download"})]),default:l(()=>[e(I,null,{default:l(()=>[f("Download")]),_:1})]),_:1}),e(w,{to:{name:"apps-certifyInvoice-edit-id",params:{id:a.id}}},{prepend:l(()=>[e(d,{size:"24",class:"me-3",icon:"tabler-pencil"})]),default:l(()=>[e(I,null,{default:l(()=>[f("Edit")]),_:1})]),_:2},1032,["to"]),e(w,{value:"duplicate"},{prepend:l(()=>[e(d,{size:"24",class:"me-3",icon:"tabler-stack"})]),default:l(()=>[e(I,null,{default:l(()=>[f("Duplicate")]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),H(t("tfoot",null,Ae,512),[[J,!n(m).length]])]),_:1}),e(L),e(T,{class:"d-flex align-center flex-wrap gap-4 py-3"},{default:l(()=>[t("span",Te,i(n(B)),1),e(A),e(oe,{modelValue:n(c),"onUpdate:modelValue":s[3]||(s[3]=a=>V(c)?c.value=a:null),size:"small","total-visible":5,length:n(h),onNext:s[4]||(s[4]=a=>S.value=[]),onPrev:s[5]||(s[5]=a=>S.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})):M("",!0)}}};typeof k=="function"&&k(Le);export{Le as default};
