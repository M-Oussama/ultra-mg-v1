import{bc as ie,a1 as k,k as _,o as C,b as R,w as o,m as r,p as e,C as I,q as a,P as Q,D,be as H,E as S,ay as L,Z,$ as G,A as ne,r as re,c as O,x as U,F as ue,a as de,H as me,I as pe,y as ce}from"./main.f72e95f9.js";import"./jspdf.es.min.979a328c.js";import"./jspdf.plugin.autotable.db4f94a0.js";import{r as P,e as J}from"./validators.330a354f.js";import{V as M}from"./VSpacer.4b3ff47d.js";import{V as y,a as fe}from"./VBtn.b7e8bfd7.js";import{V as q,c as E}from"./VCard.194e7986.js";import{V as K}from"./VForm.493a9a06.js";import{V as W,a as m}from"./VRow.b0775215.js";import{V}from"./VTextField.457dcf9a.js";import{V as X}from"./VAutocomplete.15fbf6e4.js";import{V as Y}from"./VNavigationDrawer.98ae7c7c.js";import{_ as Ve}from"./DialogCloseBtn.531867ad.js";import{V as ve}from"./VDialog.cad1084b.js";import{e as h}from"./errorsMiddleware.64709205.js";import{s as B}from"./successMiddleware.835ee42c.js";import{a as _e}from"./VOverlay.9e702713.js";import{V as be}from"./VSelect.3ae7120a.js";import{V as Ne}from"./VTable.309d1a48.js";import{V as ge}from"./VAvatar.780d9c13.js";import{V as ye}from"./VImg.e5ca9008.js";import{V as we}from"./VDivider.58a6bd90.js";import{V as De}from"./VPagination.024e27d0.js";import"./index.b522f886.js";import"./router.3c5e2ca4.js";import"./position.20c30246.js";import"./VInput.e16a9844.js";import"./index.d94c264a.js";import"./forwardRefs.c003b6b8.js";/* empty css                   */import"./VField.dccb098a.js";import"./easing.36b781ab.js";import"./VCounter.08a060a9.js";import"./filter.a789aec8.js";import"./VList.4e585bec.js";import"./VMenu.bb88cffa.js";import"./scopeId.1311e1e6.js";import"./dialog-transition.2c84af55.js";import"./VCheckboxBtn.cbc8fb71.js";import"./VSelectionControl.bd900850.js";import"./VChip.23a94022.js";import"./ssrBoot.7e598621.js";import"./lazy.eca13c5d.js";const xe="http://127.0.0.1:8000",F=xe+"/api",$={GET_SUPPLIERS:`${F}/suppliers/list`,CREATE_SUPPLIER:`${F}/suppliers/create`,UPDATE_SUPPLIER:`${F}/suppliers/update`,DELETE_SUPPLIER:`${F}/suppliers/delete`};function z(v){const f={};for(const b in v)v.hasOwnProperty(b)&&(f[b]=v[b]);return f}const Se=ie("useSupplierController",{actions:{getSuppliers(v){return k.post($.GET_SUPPLIERS,z(v))},createSupplier(v){return k.post($.CREATE_SUPPLIER,z(v))},updateSupplier(v){return k.post($.UPDATE_SUPPLIER,z(v))},deleteSupplier(v){return k.post($.DELETE_SUPPLIER,z(v))}}}),Ce={class:"d-flex align-center pa-6 pb-1"},Ue=r("h6",{class:"text-h6"}," Add New ",-1),Ie={__name:"AddNewDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},cities:{type:Array,required:!0}},emits:["update:isDrawerOpen","createData"],setup(v,{emit:f}){const b=v,N=_(!1),d=_(),l=_({name:"",surname:"",email:"",address:"",phone:"",NRC:"",NIF:"",NART:"",NIS:"",city_id:""}),c=()=>{f("update:isDrawerOpen",!1),L(()=>{var u,t;(u=d.value)==null||u.reset(),(t=d.value)==null||t.resetValidation()})},g=()=>{var u;(u=d.value)==null||u.validate().then(({valid:t})=>{t&&(f("createData",{name:l.value.name,surname:l.value.surname,email:l.value.email,address:l.value.address,phone:l.value.phone,NRC:l.value.NRC,NIS:l.value.NIS,NIF:l.value.NIF,NART:l.value.NART,city_id:l.value.city_id}),f("update:isDrawerOpen",!1),L(()=>{var s,w;(s=d.value)==null||s.reset(),(w=d.value)==null||w.resetValidation()}))})},x=u=>{f("update:isDrawerOpen",u)};return(u,t)=>(C(),R(Y,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":b.isDrawerOpen,"onUpdate:modelValue":x},{default:o(()=>[r("div",Ce,[Ue,e(M),e(y,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:c},{default:o(()=>[e(I,{size:"18",icon:"tabler-x"})]),_:1})]),e(a(Q),{options:{wheelPropagation:!1}},{default:o(()=>[e(q,{flat:""},{default:o(()=>[e(E,null,{default:o(()=>[e(K,{ref_key:"refForm",ref:d,modelValue:a(N),"onUpdate:modelValue":t[10]||(t[10]=s=>D(N)?N.value=s:null),onSubmit:H(g,["prevent"])},{default:o(()=>[e(W,null,{default:o(()=>[e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).name,"onUpdate:modelValue":t[0]||(t[0]=s=>a(l).name=s),rules:[a(P)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).surname,"onUpdate:modelValue":t[1]||(t[1]=s=>a(l).surname=s),label:"Surname"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).email,"onUpdate:modelValue":t[2]||(t[2]=s=>a(l).email=s),rules:[a(J)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(X,{clearable:"",modelValue:a(l).city_id,"onUpdate:modelValue":t[3]||(t[3]=s=>a(l).city_id=s),items:b.cities,"item-value":"id","item-title":"name",label:"City",rules:[a(P)]},null,8,["modelValue","items","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).address,"onUpdate:modelValue":t[4]||(t[4]=s=>a(l).address=s),rules:[a(P)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).phone,"onUpdate:modelValue":t[5]||(t[5]=s=>a(l).phone=s),label:"Phone"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NRC,"onUpdate:modelValue":t[6]||(t[6]=s=>a(l).NRC=s),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NIF,"onUpdate:modelValue":t[7]||(t[7]=s=>a(l).NIF=s),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NIS,"onUpdate:modelValue":t[8]||(t[8]=s=>a(l).NIS=s),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NART,"onUpdate:modelValue":t[9]||(t[9]=s=>a(l).NART=s),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(y,{type:"submit",class:"me-3"},{default:o(()=>[S(" Submit ")]),_:1}),e(y,{type:"reset",variant:"tonal",color:"secondary",onClick:c},{default:o(()=>[S(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Pe={class:"d-flex align-center pa-6 pb-1"},Re=r("h6",{class:"text-h6"}," Add New ",-1),Ee={__name:"EditDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},cities:{type:Array,required:!0},data:{type:Object,required:!0}},emits:["update:isDrawerOpen","updateData"],setup(v,{emit:f}){const b=v;Z(()=>b.data,u=>{u&&(l={...u},console.log(l))});const N=_(!1),d=_();let l=_({id:"",name:"",surname:"",email:"",address:"",phone:"",NRC:"",NIF:"",NART:"",NIS:"",city_id:""});const c=()=>{f("update:isDrawerOpen",!1),L(()=>{var u,t;(u=d.value)==null||u.reset(),(t=d.value)==null||t.resetValidation()})},g=()=>{var u;(u=d.value)==null||u.validate().then(({valid:t})=>{t&&(f("updateData",{id:l.id,name:l.name,surname:l.surname,email:l.email,address:l.address,phone:l.phone,NRC:l.NRC,NIS:l.NIS,NIF:l.NIF,NART:l.NART,city_id:l.city_id}),f("update:isDrawerOpen",!1),L(()=>{var s,w;(s=d.value)==null||s.reset(),(w=d.value)==null||w.resetValidation()}))})},x=u=>{f("update:isDrawerOpen",u)};return(u,t)=>(C(),R(Y,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":b.isDrawerOpen,"onUpdate:modelValue":x},{default:o(()=>[r("div",Pe,[Re,e(M),e(y,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:c},{default:o(()=>[e(I,{size:"18",icon:"tabler-x"})]),_:1})]),e(a(Q),{options:{wheelPropagation:!1}},{default:o(()=>[e(q,{flat:""},{default:o(()=>[e(E,null,{default:o(()=>[e(K,{ref_key:"refForm",ref:d,modelValue:a(N),"onUpdate:modelValue":t[10]||(t[10]=s=>D(N)?N.value=s:null),onSubmit:H(g,["prevent"])},{default:o(()=>[e(W,null,{default:o(()=>[e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).name,"onUpdate:modelValue":t[0]||(t[0]=s=>a(l).name=s),rules:[a(P)],label:"Name"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).surname,"onUpdate:modelValue":t[1]||(t[1]=s=>a(l).surname=s),label:"Surname"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).email,"onUpdate:modelValue":t[2]||(t[2]=s=>a(l).email=s),rules:[a(J)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(X,{clearable:"",modelValue:a(l).city_id,"onUpdate:modelValue":t[3]||(t[3]=s=>a(l).city_id=s),items:b.cities,"item-value":"id","item-title":"name",label:"City",rules:[a(P)]},null,8,["modelValue","items","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).address,"onUpdate:modelValue":t[4]||(t[4]=s=>a(l).address=s),rules:[a(P)],label:"Address"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).phone,"onUpdate:modelValue":t[5]||(t[5]=s=>a(l).phone=s),label:"Phone"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NRC,"onUpdate:modelValue":t[6]||(t[6]=s=>a(l).NRC=s),label:"Num\xE9ro de registre"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NIF,"onUpdate:modelValue":t[7]||(t[7]=s=>a(l).NIF=s),label:"Num\xE9ro de NIF"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NIS,"onUpdate:modelValue":t[8]||(t[8]=s=>a(l).NIS=s),label:"Num\xE9ro de NIS"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(V,{modelValue:a(l).NART,"onUpdate:modelValue":t[9]||(t[9]=s=>a(l).NART=s),label:"Num\xE9ro de ARTICLE"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:o(()=>[e(y,{type:"submit",class:"me-3"},{default:o(()=>[S(" Submit ")]),_:1}),e(y,{type:"reset",variant:"tonal",color:"secondary",onClick:c},{default:o(()=>[S(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ae={__name:"ConfirmationDialog",props:{isDialogVisible:{type:Boolean,required:!0},object:{type:Object,required:!0}},emits:["update:isDialogVisible","objectData"],setup(v,{emit:f}){const b=v,N=_(),d=()=>{f("update:isDialogVisible",!1)};Z(()=>b.object,c=>{c&&(N.value=c.id||0)});const l=()=>{f("update:isDialogVisible",!1),f("objectData",{id:b.object.id})};return(c,g)=>{const x=Ve;return C(),R(ve,{modelValue:b.isDialogVisible,"onUpdate:modelValue":g[2]||(g[2]=u=>b.isDialogVisible=u),persistent:"",class:"v-dialog-sm"},{default:o(()=>[e(x,{onClick:g[0]||(g[0]=u=>d())}),e(q,{title:"Confirmation"},{default:o(()=>[e(E,null,{default:o(()=>[S(" Are you sure you want to delete this record ? ")]),_:1}),e(E,{class:"d-flex justify-end gap-3 flex-wrap"},{default:o(()=>[e(y,{color:"secondary",variant:"tonal",onClick:g[1]||(g[1]=u=>f("update:isDialogVisible",!1))},{default:o(()=>[S(" Disagree ")]),_:1}),e(y,{onClick:l},{default:o(()=>[S(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};const Te={class:"me-3",style:{width:"80px"}},ke={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Oe={style:{width:"9rem"}},he={style:{width:"100%"}},Fe=r("thead",null,[r("tr",null,[r("th",{scope:"col"}," ID "),r("th",{scope:"col"}," Client "),r("th",{scope:"col"}," City "),r("th",{scope:"col"}," Phone "),r("th",{scope:"col"}," ACTIONS ")])],-1),$e={class:"d-flex align-center"},ze={key:1},Le={class:"d-flex flex-column"},qe={class:"text-base"},Be={class:"text-sm text-disabled"},Me={class:"text-capitalize text-base font-weight-semibold"},je={class:"text-capitalize text-base font-weight-semibold"},Ge={class:"text-center",style:{width:"5rem"}},Qe=r("tr",null,[r("td",{colspan:"7",class:"text-center"}," No data available ")],-1),He=[Qe],Ze={class:"text-sm mt-5 text-disabled"},$l={__name:"index",setup(v){const f="Suppliers",b="Supplier",N=_([]),d=_(),l=_([]),c=_(!1),g=Se(),x=_(!1),u=_(!1),t=_(!1),s=_(10),w=_(1),A=_(1),j=_(0),T=()=>{c.value=!0,g.getSuppliers({perPage:s.value,currentPage:w.value}).then(p=>{N.value=p.data.suppliers.data,l.value=p.data.cities,A.value=p.data.totalPage,j.value=p.data.total,c.value=!1}).catch(p=>{c.value=!1,h(p.code,p.response.statusText)})};G(T);const ee=p=>{c.value=!0,g.createSupplier(p).then(i=>{T(),B(i.data.message)}).catch(i=>{c.value=!1,h(i.code,i.response.statusText)})},le=p=>{c.value=!0,g.updateSupplier(p).then(i=>{T(),B(i.data.message)}).catch(i=>{c.value=!1,h(i.code,i.response.statusText)})},ae=p=>{console.log(p),c.value=!0,g.deleteSupplier(p).then(i=>{T(),B(i.data.message)}).catch(i=>{c.value=!1,h(i.code,i.response.statusText)})};G(()=>{w.value>A.value&&(w.value=A.value)});const te=ne(()=>{const p=N.value.length?(w.value-1)*s.value+1:0,i=N.value.length+(w.value-1)*s.value;return`Showing ${p} to ${i} of ${j.value} entries`});return(p,i)=>{const oe=re("RouterLink");return C(),O("section",null,[e(_e,{"model-value":a(c),class:"align-center justify-center"},{default:o(()=>[e(fe,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),e(q,{title:f},{default:o(()=>[e(E,{class:"d-flex justify-end gap-3 flex-wrap"},{default:o(()=>[r("div",Te,[e(be,{modelValue:a(s),"onUpdate:modelValue":i[0]||(i[0]=n=>D(s)?s.value=n:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e(M),r("div",ke,[r("div",Oe,[e(V,{onInput:i[1]||(i[1]=n=>p.isTyping=!0),ref:"searchField",modelValue:p.searchQuery,"onUpdate:modelValue":i[2]||(i[2]=n=>p.searchQuery=n),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),e(y,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share",onClick:p.exportList},{default:o(()=>[S(" Export ")]),_:1},8,["onClick"]),e(y,{"prepend-icon":"tabler-plus",onClick:i[3]||(i[3]=n=>x.value=!0)},{default:o(()=>[S(" New "+U(b))]),_:1})]),r("div",he,[e(Ne,{class:"text-no-wrap"},{default:o(()=>[Fe,r("tbody",null,[(C(!0),O(ue,null,de(a(N),n=>(C(),O("tr",{key:n.id,style:{height:"3.75rem"}},[r("td",null,U(n.id),1),r("td",null,[r("div",$e,[e(ge,{variant:"tonal",class:"me-3",size:"38"},{default:o(()=>[n.avatar?(C(),R(ye,{key:0,src:n.avatar},null,8,["src"])):(C(),O("span",ze,U(n.name.toUpperCase().charAt(0)),1))]),_:2},1024),r("div",Le,[r("h6",qe,[e(oe,{to:{name:"apps-user-view-id",params:{id:n.id}},class:"font-weight-medium user-list-name"},{default:o(()=>[S(U(n.name),1)]),_:2},1032,["to"])]),r("span",Be,"@"+U(n.email),1)])])]),r("td",null,[r("span",Me,U(n.city.name),1)]),r("td",null,[r("span",je,U(n.phone),1)]),r("td",Ge,[e(y,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"apps-client-log-id",params:{id:n.id}}},{default:o(()=>[e(I,{size:"22",icon:"tabler-currency-dollar"})]),_:2},1032,["to"]),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[e(I,{size:"22",icon:"tabler-shopping-cart"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text",onClick:se=>{d.value={...n},u.value=!0}},{default:o(()=>[e(I,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(y,{icon:"",size:"x-small",color:"default",variant:"text",onClick:se=>{d.value={...n},t.value=!0}},{default:o(()=>[e(I,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[e(I,{size:"22",icon:"tabler-dots-vertical"})]),_:1})])]))),128))]),me(r("tfoot",null,He,512),[[pe,!a(N).length]])]),_:1})]),e(we),r("div",null,[r("span",Ze,U(a(te)),1),e(De,{modelValue:a(w),"onUpdate:modelValue":i[4]||(i[4]=n=>D(w)?w.value=n:null),size:"small","total-visible":5,length:a(A)},null,8,["modelValue","length"])])]),_:1})]),_:1}),e(Ie,{isDrawerOpen:a(x),"onUpdate:isDrawerOpen":i[5]||(i[5]=n=>D(x)?x.value=n:null),cities:a(l),"onUpdate:cities":i[6]||(i[6]=n=>D(l)?l.value=n:null),onCreateData:ee},null,8,["isDrawerOpen","cities"]),e(Ee,{isDrawerOpen:a(u),"onUpdate:isDrawerOpen":i[7]||(i[7]=n=>D(u)?u.value=n:null),cities:a(l),"onUpdate:cities":i[8]||(i[8]=n=>D(l)?l.value=n:null),data:a(d),"onUpdate:data":i[9]||(i[9]=n=>D(d)?d.value=n:null),onUpdateData:le},null,8,["isDrawerOpen","cities","data"]),a(t)?(C(),R(Ae,{key:0,isDialogVisible:a(t),"onUpdate:isDialogVisible":i[10]||(i[10]=n=>D(t)?t.value=n:null),object:a(d),"onUpdate:object":i[11]||(i[11]=n=>D(d)?d.value=n:null),onObjectData:ae},null,8,["isDialogVisible","object"])):ce("",!0)])}}};export{$l as default};
